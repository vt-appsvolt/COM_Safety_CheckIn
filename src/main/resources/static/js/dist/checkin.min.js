/*!
 * Login v0.1.0 (19-09-2020)
 * Copyright 2019-2020 Safety Check-In */
function Auth(){}function Utils(){}function Validation(a,b,c){this.passed=a||!0,this.title=b||"Action Required",this.id=c||"failed-validation-modal",this.errorMessages=[]}function populateStates(a,b){var c=document.getElementById(a).selectedIndex,d=document.getElementById(b);d.length=0,d.options[0]=new Option("Select State",""),d.options[0].disabled=!0,d.selectedIndex=0;for(var e=s_a[c].split("|"),f=0;f<e.length;f++)d.options[d.length]=new Option(e[f],e[f])}function populateCountries(a,b){var c=document.getElementById(a);c.length=0,c.options[0]=new Option("Select Country",""),c.options[0].disabled=!0,c.selectedIndex=0;for(var d=0;d<country_arr.length;d++)c.options[c.length]=new Option(country_arr[d],country_short_arr[d]),"US"==country_short_arr[d]&&(c.selectedIndex=d+1);c.selectedIndex>=0&&populateStates(a,b),b&&(c.onchange=function(){populateStates(a,b)})}function populateCountries(a){var b=document.getElementById(a);b.length=0,b.options[0]=new Option("Select Country",""),b.options[0].disabled=!0,b.selectedIndex=0;for(var c=0;c<country_arr.length;c++)-1!=country_arr.indexOf(country_arr[c])&&(b.options[b.length]=new Option(country_arr[c],country_short_arr[c]),"US"==country_short_arr[c]&&(b.selectedIndex=c+1))}function allowedPopulateCountries(a,b){var c=document.getElementById(a);c.length=0,c.options[0]=new Option("Select Country",""),c.options[0].disabled=!0,c.selectedIndex=0;for(var d=0;d<country_arr.length;d++)-1!=country_arr.indexOf(country_arr[d])&&(c.options[c.length]=new Option(country_arr[d],country_short_arr[d]),"US"==country_short_arr[d]&&(c.selectedIndex=d+1));c.selectedIndex>=0&&populateStates(a,b),b&&(c.onchange=function(){allowedPopulateStates(a,b)})}function allowedPopulateStates(a,b){var c=document.getElementById(a),d=country_arr.indexOf(c.options[c.selectedIndex].text)+1,e=document.getElementById(b);e.length=0,e.options[0]=new Option("Select State",""),e.options[0].disabled=!0,e.selectedIndex=0;for(var f=s_a[d].split("|"),g=0;g<f.length;g++)e.options[e.length]=new Option(f[g],f[g])}function selectPopulatedState(a,b,c,d){if(allowedPopulateCountries(a,b),null!==c&&-1!==c.length)for(var e=document.getElementById(a),f=0,g=e.options.length;f<g;++f)if(e.options[f].innerHTML===c){e.selectedIndex=f;break}if(null!==d&&-1!==d.length){allowedPopulateStates(a,b);for(var h=document.getElementById(b),i=0,j=h.options.length;i<j;++i)if(h.options[i].innerHTML===d){h.selectedIndex=i;break}}}function selectPopulatedStateWith2LetterCountry(a,b,c,d){if(allowedPopulateCountries(a,b),null!==c&&-1!==c.length)for(var e=document.getElementById(a),f=0,g=e.options.length;f<g;++f)if(e.options[f].value===c){e.selectedIndex=f;break}if(null!==d&&-1!==d.length){allowedPopulateStates(a,b);for(var h=document.getElementById(b),i=0,j=h.options.length;i<j;++i)if(h.options[i].innerHTML===d){h.selectedIndex=i;break}}}function selectPopulated2LetterCountry(a,b){if(populateCountries(a),null!==b&&-1!==b.length)for(var c=document.getElementById(a),d=0,e=c.options.length;d<e;++d)if(void 0!==b&&c.options[d].value===b){c.selectedIndex=d;break}}function selectPopulatedrCountry(a,b){if(populateCountries(a),null!==b&&-1!==b.length)for(var c=document.getElementById(a),d=0,e=c.options.length;d<e;++d)if(void 0!==b&&c.options[d].innerHTML===b){c.selectedIndex=d;break}}function selectPopulateStatesUnitedStates(a){for(var b=document.getElementsByClassName(a),c=0;c<b.length;c++){var d=b[c];d.length=0,d.options[0]=new Option("Select State",""),d.options[0].disabled=!0,d.selectedIndex=0;for(var e=s_a[country_arr.indexOf("United States")+1].split("|"),f=0;f<e.length;f++)d.options[d.length]=new Option(e[f],e[f])}}function initializeStateCountrySelects(a,b,c,d){a.length=0,a.options[0]=new Option("Country",""),a.options[0].disabled=!0,a.selectedIndex=0;for(var e=0;e<country_arr.length;e++)-1!=country_arr.indexOf(country_arr[e])&&(a.options[a.length]=new Option(country_arr[e],country_short_arr[e]),"US"==country_short_arr[e]&&(a.selectedIndex=e+1));if(a.selectedIndex>=0&&populateStateSelects(a,b),b&&(a.onchange=function(){populateStateSelects(a,b)}),null!==c&&-1!==c.length)for(var f=0,g=a.options.length;f<g;++f)if(a.options[f].value===c){a.selectedIndex=f;break}if(null!==d&&-1!==d.length){2===d.length&&us_state_abbrevs.hasOwnProperty(d)&&(d=us_state_abbrevs[d]);for(var h=0,i=b.options.length;h<i;++h)if(b.options[h].innerHTML===d){b.selectedIndex=h;break}}}function populateStateSelects(a,b){var c=country_arr.indexOf(a.options[a.selectedIndex].text)+1;b.length=0,b.options[0]=new Option("State",""),b.options[0].disabled=!0,b.selectedIndex=0;for(var d=s_a[c].split("|"),e=0;e<d.length;e++)b.options[b.length]=new Option(d[e],d[e])}var token=$("meta[name='_csrf']").attr("content"),header=$("meta[name='_csrf_header']").attr("content");$(document).ajaxSend(function(a,b,c){"string"==typeof header&&"string"==typeof token&&b.setRequestHeader(header,token)}),$(document).ajaxError(function(a,b,c,d){c.suppressErrors||"422"==b.status&&(void 0!==c.errorModalTemplate?handleUnprocessableEntity(b.responseJSON,c.errorModalTemplate):handleUnprocessableEntity(b.responseJSON))});var _config={name:"checkin",version:"1.0.5",pageableDefault:{page:1,size:100},resources:{js:{directory:"/js"},template:{directory:"/templates",suffix:".html"},img:{directory:"/img"}},SignInClass:"fa-check-circle",SignOutClass:"fa-times-circle"};$(document).on("submit","form",function(){var a=$(this);a.find("input.currency.mask").each(function(){var b=$(this),c=$(this).attr("name").replace("-mask","");a.find("input[name="+c+"]").val(Utils.currencyLongValue(b.val()))})}),Inputmask.extendDefaults({autoUnmask:!0,removeMaskOnSubmit:!0}),Inputmask.extendAliases({percentage:{autoUnmask:!0,removeMaskOnSubmit:!0},currency:{autoUnmask:!0,removeMaskOnSubmit:!0,allowPlus:!1,allowMinus:!1},rate:{alias:"decimal",digits:2,numericInput:!0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,allowPlus:!1,allowMinus:!1,placeholder:"0"},currencydigits:{alias:"decimal",autoUnmask:!0,removeMaskOnSubmit:!0,allowPlus:!1,allowMinus:!1,digits:2}});var _mustacheHelper={upper:function(){return function(a,b){return b(a).toUpperCase()}},lower:function(){return function(a,b){return b(a).toLowerCase()}},preventAutocomplete:function(){var a=!1;try{(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Mozilla/i))&&(a=!0)}catch(a){}return a}},timeFormatterSettings={pattern:"MM/D/YY h:mma"},timeFormatter={getMomentDate:function(a){a.pattern=a.pattern||timeFormatterSettings.pattern;try{var b=a.timezone||moment.tz.guess();return moment.tz(a.date,a.pattern,b)}catch(b){return moment(a.date,a.pattern)}},getMomentFullDate:function(a){try{var b=a.timezone||moment.tz.guess();return moment.tz(a.date,b)}catch(b){return moment(a.date)}},formatDate:function(a){a.pattern=a.pattern||timeFormatterSettings.pattern;try{var b=a.timezone||moment.tz.guess();return moment.tz(a.date,b).format(a.pattern)}catch(b){return moment(a.date).format(a.pattern)}}};Auth.prototype={constructor:Auth,data:{roles:[],groups:{OWNERS:["Owner"],MANAGERS:["Manager"]}},setEmployeeRoles:function(a){var b=this;console.log(["roles",a]),b.data.roles=a},isAuthorized:function(a){var b=this;return Utils.hasMatch(b.data.roles,a)},inAuthorizedGroup:function(a){var b=this,c=b.data.groups[a];return console.log(["inAuthorizedGroup",a,c,b.data.roles]),Utils.hasMatch(b.data.roles,c)}};var Auth=new Auth;Utils.prototype={constructor:Utils,isElementInView:function(a,b){var c=$(window).scrollTop(),d=c+$(window).height(),e=$(a).offset().top,f=e+$(a).height();return!0===b?c<e&&d>f:f<=d&&e>=c},clearChildrenInputs:function(a){for(var b=0;b<a.childNodes.length;b++){var c=a.childNodes[b];if(c.tagName)switch(c.tagName.toLowerCase()){case"input":switch(c.type){case"radio":case"checkbox":c.checked=!1;break;case"button":case"submit":case"image":break;default:c.value=""}break;case"select":c.selectedIndex=0;break;case"textarea":c.innerHTML="";break;default:Utils.clearChildrenInputs(c)}}},isNonEmpty:function(a){return void 0!==a&&null!==a&&("string"!=typeof a||""!==a&&""!==a.trim())},isEmpty:function(a){return void 0===a||null===a||"string"==typeof a&&(""===a||""===a.trim())},isValidEmail:function(a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)},toUSD:function(a,b,c,d,e){if(isNaN(parseInt(a)))return"";b=b||"",c=isNaN(c=Math.abs(c))?2:c,d=d||".",e=e||",";var f=-1===Math.sign(a)?"- ":"",g=parseInt(a)/100,h=String(parseInt(g=Math.abs(Number(g)||0).toFixed(c))),i=(i=h.length)>3?i%3:0;return f+b+(i?h.substr(0,i)+e:"")+h.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+e)+(c?d+Math.abs(g-h).toFixed(c).slice(2):"")},currencyLongValue:function(a){return isNaN(parseInt(a))?"":(100*a).toFixed(0)},floatValue:function(a){return isNaN(parseInt(a))?"":parseFloat(a)},fixedValue:function(a,b){return isNaN(parseInt(a))?"":a.toFixed(b)},hasMatch:function(a,b,c){c=c||1;var d=0;return void 0!==a&&void 0!==b&&a.some(function(a){if(b.indexOf(a)>-1&&++d>=c)return!0})},contains:function(a,b){return a.indexOf(b)>-1}};var Utils=new Utils;jQuery;var FormId=0;getPageObj=function(a){var b={};return void 0!==a&&void 0!==a.number&&(b.page=a.number+1,b.max=a.totalPages),void 0!==a&&void 0!==a.size?b.size=a.size:b.size=100,b},$.fn.serializeObject=function(){var a={},b=this.serializeArray();return $.each(b,function(){void 0!==a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a},$.cachedScript=function(a,b){if(!$.inArray(a,LoadedScripts))return LoadedScripts.push(a),b=$.extend(b||{},{dataType:"script",cache:!0,url:a}),jQuery.ajax(b).fail(function(){LoadedScripts.removeValue(a)})},jQuery.each(["put","ajaxDelete","postJSON"],function(a,b){jQuery[b]=function(a,c,d,e){var f;return jQuery.isFunction(c)&&(e=e||d,d=c,c=void 0),void 0===e&&b.indexOf("JSON")>-1&&(e="json",f="application/json"),jQuery.ajax({url:a,type:b.replace("ajax","").replace("JSON",""),dataType:e,data:c,success:d,contentType:f})}}),pushState=function(a,b,c){window.history.pushState($.extend({},c),b||"",a)},locationJSON=function(){var a=location.search.substring(1);return a?JSON.parse('{"'+a.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(a,b){return""===a?b:decodeURIComponent(b)}):{}},initializeScriptLoader=function(a,b,c,d){var e=window[a];"function"!=typeof e?(c-=1)>0&&setTimeout(function(){initializeScriptLoader(a,b,c,d)},b):e.call(null,d)},emptyStringsAndZerosToNulls=function(a,b){return""===a?null:0===a?null:a},emptyStringsToNulls=function(a,b){return""===a?null:a},removeOptions=function(a){if(void 0!==a)for(var b=a.options.length-1;b>=0;b--)a.remove(b)},serializeJSON_Defaults={skipFalsyValuesForTypes:["string"],parseWithFunction:emptyStringsAndZerosToNulls,parseNumbers:!0},initializeInputMasks=function(a){a=a||$(document),a.find("input.mask").each(function(){Utils.isNonEmpty($(this).data("alias"))?$(this).inputmask($(this).data("alias")):$(this).inputmask()})},calculateInputMasks=function(a){a.find("input.currency.mask").each(function(){var b=$(this),c=b.attr("name").replace("-mask","");a.find("input[name="+c+"]").val(Utils.currencyLongValue(b.val()))})},formatForm=function(a){return a.formId=getFormId(),a},getFormId=function(){return++FormId},thousandsSeparators=function(a){var b=a.toString().split(".");return b[0]=b[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),b.join(".")},processingModalQueue=!1,publishToModalQueue=function(a,b){if(processingModalQueue)setTimeout(function(){publishToModalQueue(a,b)},500);else{processingModalQueue=!0;try{$("#modal-wrapper").find(".modal").length?$("#modal-queue").append(a):($("#modal-wrapper").html(a),$("#"+b).modal("show"))}catch(a){}processingModalQueue=!1}},setActiveContainer=function(a){$(".sci-main").not("#"+a.attr("id")).hide(),a.show()},function(a,b){var c={},d={};c.App=function(){this.components={}},c.App.prototype.addComponent=function(a,b,d,e){console.log(["Adding a new component",a,b,d,e]);var f;return e||void 0===(f=this.components[a])?(f=new c.Component(a,b,d),this.components[a]=f,f):f},c.App.prototype.getComponent=function(a){return this.components[a]},c.Component=function(a,b,c){console.log(["New Component",a,b,c]),this.key=a,this.templateLocation=b||"/",this.fns=c||{}},c.Component.prototype.getKey=function(){return this.key},c.Component.prototype.getPath=function(){return _config.resources.template.directory+this.templateLocation+_config.resources.template.suffix+"?v="+_config.version},c.Component.prototype.getTemplatePromise=function(){var b=a.Deferred();return a.get(this.getPath()).done(function(a){b.resolve(a)}).fail(function(){b.reject(arguments)}),b.promise()},c.Component.prototype.render=function(b,c,d,e){console.log(["self.Component.prototype.render",b,c,d,e]);var f=a.Deferred();return this.getTemplatePromise().done(function(g){var h={};if("string"==typeof e)h[e]=a(g).filter("#"+e).html();else if(void 0!==e)for(var i=0,j=e.length;i<j;i++)h[e[i]]=a(g).filter("#"+e[i]).html();var k=a.extend({},d);void 0!==k&&(k.fn=_mustacheHelper);var l=Mustache.render(a(g).filter("#"+b).html(),k,h);c.each(function(){a(this).html(l)}),f.resolve(c,d)}).fail(function(a){f.reject(a)}),f.promise()},c.Component.prototype.getRenderedString=function(b,c,d){var e=a.Deferred();return this.getTemplatePromise().done(function(f){var g={};if("string"==typeof d)g[d]=a(f).filter("#"+d).html();else if(void 0!==d)for(var h=0,i=d.length;h<i;h++)g[d[h]]=a(f).filter("#"+d[h]).html();var j=a.extend({},c);void 0!==j&&(j.fn=_mustacheHelper);var k=Mustache.render(a(f).filter("#"+b).html(),j,g);e.resolve(k)}).fail(function(a){e.reject(a)}),e.promise()},c.Component.prototype.getFn=function(a,b){console.log(["getFn",a,b,this.fns]);var c=this.fns[a];if("function"==typeof c)return c.apply(this,b);throw"No public function by the name: "+a+" found on Component "+this.key},c.Component.prototype.getFnPromise=function(b,c){var d=a.Deferred(),e=this.fns[b];return"function"==typeof e?d.resolve(e.apply(this,c)):d.reject("No public function by the name: "+b+" found on Component "+this.key)},d=new c.App;var e=b.App;d.noConflict=function(){return b.App===d&&(b.App=e),d},b.App=d}(jQuery,window);var appLocalStorage=window.localStorage,_checkinLocalStorage={_setProgramStorage:function(a,b){appLocalStorage.setItem(a,JSON.stringify(b))},setProcessingCheckin:function(a,b,c,d){d=d||moment();var e=d.format("YYYY-MM-DD");_checkinLocalStorage.removeAwaitingCheckin(a,b,e);var f=_checkinLocalStorage.getProgramDateStorage(a,e);f[e].processingCheckins[b]=c,_checkinLocalStorage._setProgramStorage(a,f)},setAwaitingCheckin:function(a,b,c,d){d=d||moment();var e=d.format("YYYY-MM-DD");_checkinLocalStorage.removeProcessingCheckin(a,b,e);var f=_checkinLocalStorage.getProgramDateStorage(a,e);f[e].awaitingCheckins[b]=c,_checkinLocalStorage._setProgramStorage(a,f)},getProcessingCheckin:function(a,b,c){c=c||moment();var d=getAwaitingCheckins(a,c);return void 0!==d[b]?d[b]:{}},getAwaitingCheckins:function(a,b){b=b||moment();var c=b.format("YYYY-MM-DD"),d=_checkinLocalStorage.getProgramStorage(a);return void 0!==d[c]&&void 0!==d[c].awaitingCheckins?d[c].awaitingCheckins:{}},getAwaitingCheckinsList:function(a,b){b=b||moment();var c=b.format("YYYY-MM-DD"),d=_checkinLocalStorage.getProgramStorage(a);return void 0!==d[c]&&void 0!==d[c].awaitingCheckins?_checkinLocalStorage.getCheckinModelList(d[c].awaitingCheckins):[]},getProgramStorage:function(a){var b=JSON.parse(appLocalStorage.getItem(a));return void 0!==b&&null!==b||(b={},_checkinLocalStorage._setProgramStorage(a,b)),b},getProgramDateStorage:function(a,b){var c=_checkinLocalStorage.getProgramStorage(a);return void 0!==c[b]&&null!==c[b]||(c[b]={awaitingCheckins:{},processingCheckins:{},awaitingCheckouts:{},processingCheckouts:{}},_checkinLocalStorage._setProgramStorage(a,c)),c},getCheckinModelList:function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(a[b]);return c},removeCheckin:function(a,b,c){c=c||moment();var d=c.format("YYYY-MM-DD");_checkinLocalStorage.removeProcessingCheckin(a,b,d),_checkinLocalStorage.removeAwaitingCheckin(a,b,d)},removeProcessingCheckin:function(a,b,c){var d=_checkinLocalStorage.getProgramStorage(a);void 0!==d[c]&&void 0!==d[c].processingCheckins&&void 0!==d[c].processingCheckins[b]&&delete d[c].processingCheckins[b],_checkinLocalStorage._setProgramStorage(a,d)},removeAwaitingCheckin:function(a,b,c){var d=_checkinLocalStorage.getProgramStorage(a);void 0!==d[c]&&void 0!==d[c].awaitingCheckins&&void 0!==d[c].awaitingCheckins[b]&&delete d[c].awaitingCheckins[b],_checkinLocalStorage._setProgramStorage(a,d)}},country_arr=["Afghanistan","Albania","Algeria","American Samoa","Angola","Anguilla","Antartica","Antigua and Barbuda","Argentina","Armenia","Aruba","Ashmore and Cartier Island","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burma","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Clipperton Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo, Democratic Republic of the","Congo, Republic of the","Cook Islands","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czeck Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Europa Island","Falkland Islands (Islas Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern and Antarctic Lands","Gabon","Gambia, The","Gaza Strip","Georgia","Germany","Ghana","Gibraltar","Glorioso Islands","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (Vatican City)","Honduras","Hong Kong","Howland Island","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Ireland, Northern","Israel","Italy","Jamaica","Jan Mayen","Japan","Jarvis Island","Jersey","Johnston Atoll","Jordan","Juan de Nova Island","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia, Former Yugoslav Republic of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Man, Isle of","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Midway Islands","Moldova","Monaco","Mongolia","Montserrat","Morocco","Mozambique","Namibia","Nauru","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcaim Islands","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romainia","Russia","Rwanda","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Scotland","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and South Sandwich Islands","Spain","Spratly Islands","Sri Lanka","Sudan","Suriname","Svalbard","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Tobago","Toga","Tokelau","Tonga","Trinidad","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","Uruguay","United States","Uzbekistan","Vanuatu","Venezuela","Vietnam","Virgin Islands","Wales","Wallis and Futuna","West Bank","Western Sahara","Yemen","Yugoslavia","Zambia","Zimbabwe"],country_short_arr=["AF","AL","DZ","AS","AO","AI","","AG","AR","AM","AW","","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BA","BW","BR","VG","BN","BG","BF","","BI","KH","CM","CA","CV","KY","CF","TD","CL","CN","CX","","","CO","KM","","","CK","CR","","HR","CU","CY","","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","ET","","","FO","FJ","FI","FR","GF","PF","","GA","","","GE","DE","GH","GI","","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","","","HN","HK","","HU","IS","IN","ID","IR","IQ","IE","","IL","IT","JM","","JP","","JE","","JO","","KZ","KE","KI","","","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","","","MG","MW","MY","MV","ML","MT","","MH","MQ","MR","MU","YT","MX","","","MD","MC","MN","MS","MA","MZ","NA","NR","NP","NL","AN","NC","NZ","NI","NE","NG","NU","NF","MP","NO","OM","PK","PW","PA","PG","PY","PE","PH","","PL","PT","PR","QA","RE","","RU","RW","SH","","LC","","","WS","SM","","SA","","SN","SC","SL","SG","SK","SI","SB","SO","ZA","","ES","","LK","SD","SR","","SZ","SE","CH","SY","TW","TJ","TZ","TH","","","TK","TO","","TN","TR","TM","TV","UG","UA","AE","GB","UY","US","UZ","VU","VE","VN","","","","","EH","YE","","ZM","ZW"],allowed_countrys=["United States","Canada","South Africa"],us_state_abbrevs={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},s_a=[];s_a[0]="",s_a[1]="Badakhshan|Badghis|Baghlan|Balkh|Bamian|Farah|Faryab|Ghazni|Ghowr|Helmand|Herat|Jowzjan|Kabol|Kandahar|Kapisa|Konar|Kondoz|Laghman|Lowgar|Nangarhar|Nimruz|Oruzgan|Paktia|Paktika|Parvan|Samangan|Sar-e Pol|Takhar|Vardak|Zabol",s_a[2]="Berat|Bulqize|Delvine|Devoll (Bilisht)|Diber (Peshkopi)|Durres|Elbasan|Fier|Gjirokaster|Gramsh|Has (Krume)|Kavaje|Kolonje (Erseke)|Korce|Kruje|Kucove|Kukes|Kurbin|Lezhe|Librazhd|Lushnje|Malesi e Madhe (Koplik)|Mallakaster (Ballsh)|Mat (Burrel)|Mirdite (Rreshen)|Peqin|Permet|Pogradec|Puke|Sarande|Shkoder|Skrapar (Corovode)|Tepelene|Tirane (Tirana)|Tirane (Tirana)|Tropoje (Bajram Curri)|Vlore",s_a[3]="Adrar|Ain Defla|Ain Temouchent|Alger|Annaba|Batna|Bechar|Bejaia|Biskra|Blida|Bordj Bou Arreridj|Bouira|Boumerdes|Chlef|Constantine|Djelfa|El Bayadh|El Oued|El Tarf|Ghardaia|Guelma|Illizi|Jijel|Khenchela|Laghouat|M'Sila|Mascara|Medea|Mila|Mostaganem|Naama|Oran|Ouargla|Oum el Bouaghi|Relizane|Saida|Setif|Sidi Bel Abbes|Skikda|Souk Ahras|Tamanghasset|Tebessa|Tiaret|Tindouf|Tipaza|Tissemsilt|Tizi Ouzou|Tlemcen",s_a[4]="Eastern|Manu'a|Rose Island|Swains Island|Western",s_a[5]="Andorra la Vella|Bengo|Benguela|Bie|Cabinda|Canillo|Cuando Cubango|Cuanza Norte|Cuanza Sul|Cunene|Encamp|Escaldes-Engordany|Huambo|Huila|La Massana|Luanda|Lunda Norte|Lunda Sul|Malanje|Moxico|Namibe|Ordino|Sant Julia de Loria|Uige|Zaire",s_a[6]="Anguilla",s_a[7]="Antartica",s_a[8]="Barbuda|Redonda|Saint George|Saint John|Saint Mary|Saint Paul|Saint Peter|Saint Philip",s_a[9]="Antartica e Islas del Atlantico Sur|Buenos Aires|Buenos Aires Capital Federal|Catamarca|Chaco|Chubut|Cordoba|Corrientes|Entre Rios|Formosa|Jujuy|La Pampa|La Rioja|Mendoza|Misiones|Neuquen|Rio Negro|Salta|San Juan|San Luis|Santa Cruz|Santa Fe|Santiago del Estero|Tierra del Fuego|Tucuman",s_a[10]="Aragatsotn|Ararat|Armavir|Geghark'unik'|Kotayk'|Lorri|Shirak|Syunik'|Tavush|Vayots' Dzor|Yerevan",s_a[11]="Aruba",s_a[12]="Ashmore and Cartier Island",s_a[13]="Australian Capital Territory|New South Wales|Northern Territory|Queensland|South Australia|Tasmania|Victoria|Western Australia",s_a[14]="Burgenland|Kaernten|Niederoesterreich|Oberoesterreich|Salzburg|Steiermark|Tirol|Vorarlberg|Wien",s_a[15]="Abseron Rayonu|Agcabadi Rayonu|Agdam Rayonu|Agdas Rayonu|Agstafa Rayonu|Agsu Rayonu|Ali Bayramli Sahari|Astara Rayonu|Baki Sahari|Balakan Rayonu|Barda Rayonu|Beylaqan Rayonu|Bilasuvar Rayonu|Cabrayil Rayonu|Calilabad Rayonu|Daskasan Rayonu|Davaci Rayonu|Fuzuli Rayonu|Gadabay Rayonu|Ganca Sahari|Goranboy Rayonu|Goycay Rayonu|Haciqabul Rayonu|Imisli Rayonu|Ismayilli Rayonu|Kalbacar Rayonu|Kurdamir Rayonu|Lacin Rayonu|Lankaran Rayonu|Lankaran Sahari|Lerik Rayonu|Masalli Rayonu|Mingacevir Sahari|Naftalan Sahari|Naxcivan Muxtar Respublikasi|Neftcala Rayonu|Oguz Rayonu|Qabala Rayonu|Qax Rayonu|Qazax Rayonu|Qobustan Rayonu|Quba Rayonu|Qubadli Rayonu|Qusar Rayonu|Saatli Rayonu|Sabirabad Rayonu|Saki Rayonu|Saki Sahari|Salyan Rayonu|Samaxi Rayonu|Samkir Rayonu|Samux Rayonu|Siyazan Rayonu|Sumqayit Sahari|Susa Rayonu|Susa Sahari|Tartar Rayonu|Tovuz Rayonu|Ucar Rayonu|Xacmaz Rayonu|Xankandi Sahari|Xanlar Rayonu|Xizi Rayonu|Xocali Rayonu|Xocavand Rayonu|Yardimli Rayonu|Yevlax Rayonu|Yevlax Sahari|Zangilan Rayonu|Zaqatala Rayonu|Zardab Rayonu",s_a[16]="Acklins and Crooked Islands|Bimini|Cat Island|Exuma|Freeport|Fresh Creek|Governor's Harbour|Green Turtle Cay|Harbour Island|High Rock|Inagua|Kemps Bay|Long Island|Marsh Harbour|Mayaguana|New Providence|Nicholls Town and Berry Islands|Ragged Island|Rock Sound|San Salvador and Rum Cay|Sandy Point",s_a[17]="Al Hadd|Al Manamah|Al Mintaqah al Gharbiyah|Al Mintaqah al Wusta|Al Mintaqah ash Shamaliyah|Al Muharraq|Ar Rifa' wa al Mintaqah al Janubiyah|Jidd Hafs|Juzur Hawar|Madinat 'Isa|Madinat Hamad|Sitrah",s_a[18]="Barguna|Barisal|Bhola|Jhalokati|Patuakhali|Pirojpur|Bandarban|Brahmanbaria|Chandpur|Chittagong|Comilla|Cox's Bazar|Feni|Khagrachari|Lakshmipur|Noakhali|Rangamati|Dhaka|Faridpur|Gazipur|Gopalganj|Jamalpur|Kishoreganj|Madaripur|Manikganj|Munshiganj|Mymensingh|Narayanganj|Narsingdi|Netrokona|Rajbari|Shariatpur|Sherpur|Tangail|Bagerhat|Chuadanga|Jessore|Jhenaidah|Khulna|Kushtia|Magura|Meherpur|Narail|Satkhira|Bogra|Dinajpur|Gaibandha|Jaipurhat|Kurigram|Lalmonirhat|Naogaon|Natore|Nawabganj|Nilphamari|Pabna|Panchagarh|Rajshahi|Rangpur|Sirajganj|Thakurgaon|Habiganj|Maulvi bazar|Sunamganj|Sylhet",s_a[19]="Bridgetown|Christ Church|Saint Andrew|Saint George|Saint James|Saint John|Saint Joseph|Saint Lucy|Saint Michael|Saint Peter|Saint Philip|Saint Thomas",s_a[20]="Brestskaya (Brest)|Homyel'skaya (Homyel')|Horad Minsk|Hrodzyenskaya (Hrodna)|Mahilyowskaya (Mahilyow)|Minskaya|Vitsyebskaya (Vitsyebsk)",s_a[21]="Antwerpen|Brabant Wallon|Brussels Capitol Region|Hainaut|Liege|Limburg|Luxembourg|Namur|Oost-Vlaanderen|Vlaams Brabant|West-Vlaanderen",s_a[22]="Belize|Cayo|Corozal|Orange Walk|Stann Creek|Toledo",s_a[23]="Alibori|Atakora|Atlantique|Borgou|Collines|Couffo|Donga|Littoral|Mono|Oueme|Plateau|Zou",s_a[24]="Devonshire|Hamilton|Hamilton|Paget|Pembroke|Saint George|Saint Georges|Sandys|Smiths|Southampton|Warwick",s_a[25]="Bumthang|Chhukha|Chirang|Daga|Geylegphug|Ha|Lhuntshi|Mongar|Paro|Pemagatsel|Punakha|Samchi|Samdrup Jongkhar|Shemgang|Tashigang|Thimphu|Tongsa|Wangdi Phodrang",s_a[26]="Beni|Chuquisaca|Cochabamba|La Paz|Oruro|Pando|Potosi|Santa Cruz|Tarija",s_a[27]="Federation of Bosnia and Herzegovina|Republika Srpska",s_a[28]="Central|Chobe|Francistown|Gaborone|Ghanzi|Kgalagadi|Kgatleng|Kweneng|Lobatse|Ngamiland|North-East|Selebi-Pikwe|South-East|Southern",s_a[29]="Acre|Alagoas|Amapa|Amazonas|Bahia|Ceara|Distrito Federal|Espirito Santo|Goias|Maranhao|Mato Grosso|Mato Grosso do Sul|Minas Gerais|Para|Paraiba|Parana|Pernambuco|Piaui|Rio de Janeiro|Rio Grande do Norte|Rio Grande do Sul|Rondonia|Roraima|Santa Catarina|Sao Paulo|Sergipe|Tocantins",s_a[30]="Anegada|Jost Van Dyke|Tortola|Virgin Gorda",s_a[31]="Belait|Brunei and Muara|Temburong|Tutong",s_a[32]="Blagoevgrad|Burgas|Dobrich|Gabrovo|Khaskovo|Kurdzhali|Kyustendil|Lovech|Montana|Pazardzhik|Pernik|Pleven|Plovdiv|Razgrad|Ruse|Shumen|Silistra|Sliven|Smolyan|Sofiya|Sofiya-Grad|Stara Zagora|Turgovishte|Varna|Veliko Turnovo|Vidin|Vratsa|Yambol",s_a[33]="Bale|Bam|Banwa|Bazega|Bougouriba|Boulgou|Boulkiemde|Comoe|Ganzourgou|Gnagna|Gourma|Houet|Ioba|Kadiogo|Kenedougou|Komandjari|Kompienga|Kossi|Koupelogo|Kouritenga|Kourweogo|Leraba|Loroum|Mouhoun|Nahouri|Namentenga|Naumbiel|Nayala|Oubritenga|Oudalan|Passore|Poni|Samentenga|Sanguie|Seno|Sissili|Soum|Sourou|Tapoa|Tuy|Yagha|Yatenga|Ziro|Zondomo|Zoundweogo",s_a[34]="Ayeyarwady|Bago|Chin State|Kachin State|Kayah State|Kayin State|Magway|Mandalay|Mon State|Rakhine State|Sagaing|Shan State|Tanintharyi|Yangon",s_a[35]="Bubanza|Bujumbura|Bururi|Cankuzo|Cibitoke|Gitega|Karuzi|Kayanza|Kirundo|Makamba|Muramvya|Muyinga|Mwaro|Ngozi|Rutana|Ruyigi",s_a[36]="Banteay Mean Cheay|Batdambang|Kampong Cham|Kampong Chhnang|Kampong Spoe|Kampong Thum|Kampot|Kandal|Kaoh Kong|Keb|Kracheh|Mondol Kiri|Otdar Mean Cheay|Pailin|Phnum Penh|Pouthisat|Preah Seihanu (Sihanoukville)|Preah Vihear|Prey Veng|Rotanah Kiri|Siem Reab|Stoeng Treng|Svay Rieng|Takev",s_a[37]="Adamaoua|Centre|Est|Extreme-Nord|Littoral|Nord|Nord-Ouest|Ouest|Sud|Sud-Ouest",s_a[38]="Alberta|British Columbia|Manitoba|New Brunswick|Newfoundland|Northwest Territories|Nova Scotia|Nunavut|Ontario|Prince Edward Island|Quebec|Saskatchewan|Yukon Territory",s_a[39]="Boa Vista|Brava|Maio|Mosteiros|Paul|Porto Novo|Praia|Ribeira Grande|Sal|Santa Catarina|Santa Cruz|Sao Domingos|Sao Filipe|Sao Nicolau|Sao Vicente|Tarrafal",s_a[40]="Creek|Eastern|Midland|South Town|Spot Bay|Stake Bay|West End|Western",s_a[41]="Bamingui-Bangoran|Bangui|Basse-Kotto|Gribingui|Haut-Mbomou|Haute-Kotto|Haute-Sangha|Kemo-Gribingui|Lobaye|Mbomou|Nana-Mambere|Ombella-Mpoko|Ouaka|Ouham|Ouham-Pende|Sangha|Vakaga",s_a[42]="Batha|Biltine|Borkou-Ennedi-Tibesti|Chari-Baguirmi|Guera|Kanem|Lac|Logone Occidental|Logone Oriental|Mayo-Kebbi|Moyen-Chari|Ouaddai|Salamat|Tandjile",s_a[43]="Aisen del General Carlos Ibanez del Campo|Antofagasta|Araucania|Atacama|Bio-Bio|Coquimbo|Libertador General Bernardo O'Higgins|Los Lagos|Magallanes y de la Antartica Chilena|Maule|Region Metropolitana (Santiago)|Tarapaca|Valparaiso",s_a[44]="Anhui|Beijing|Chongqing|Fujian|Gansu|Guangdong|Guangxi|Guizhou|Hainan|Hebei|Heilongjiang|Henan|Hubei|Hunan|Jiangsu|Jiangxi|Jilin|Liaoning|Nei Mongol|Ningxia|Qinghai|Shaanxi|Shandong|Shanghai|Shanxi|Sichuan|Tianjin|Xinjiang|Xizang (Tibet)|Yunnan|Zhejiang",s_a[45]="Christmas Island",s_a[46]="Clipperton Island",s_a[47]="Direction Island|Home Island|Horsburgh Island|North Keeling Island|South Island|West Island",s_a[48]="Amazonas|Antioquia|Arauca|Atlantico|Bolivar|Boyaca|Caldas|Caqueta|Casanare|Cauca|Cesar|Choco|Cordoba|Cundinamarca|Distrito Capital de Santa Fe de Bogota|Guainia|Guaviare|Huila|La Guajira|Magdalena|Meta|Narino|Norte de Santander|Putumayo|Quindio|Risaralda|San Andres y Providencia|Santander|Sucre|Tolima|Valle del Cauca|Vaupes|Vichada",s_a[49]="Anjouan (Nzwani)|Domoni|Fomboni|Grande Comore (Njazidja)|Moheli (Mwali)|Moroni|Moutsamoudou",s_a[50]="Bandundu|Bas-Congo|Equateur|Kasai-Occidental|Kasai-Oriental|Katanga|Kinshasa|Maniema|Nord-Kivu|Orientale|Sud-Kivu",s_a[51]="Bouenza|Brazzaville|Cuvette|Kouilou|Lekoumou|Likouala|Niari|Plateaux|Pool|Sangha",s_a[52]="Aitutaki|Atiu|Avarua|Mangaia|Manihiki|Manuae|Mauke|Mitiaro|Nassau Island|Palmerston|Penrhyn|Pukapuka|Rakahanga|Rarotonga|Suwarrow|Takutea",s_a[53]="Alajuela|Cartago|Guanacaste|Heredia|Limon|Puntarenas|San Jose",s_a[54]="Abengourou|Abidjan|Aboisso|Adiake'|Adzope|Agboville|Agnibilekrou|Ale'pe'|Bangolo|Beoumi|Biankouma|Bocanda|Bondoukou|Bongouanou|Bouafle|Bouake|Bouna|Boundiali|Dabakala|Dabon|Daloa|Danane|Daoukro|Dimbokro|Divo|Duekoue|Ferkessedougou|Gagnoa|Grand Bassam|Grand-Lahou|Guiglo|Issia|Jacqueville|Katiola|Korhogo|Lakota|Man|Mankono|Mbahiakro|Odienne|Oume|Sakassou|San-Pedro|Sassandra|Seguela|Sinfra|Soubre|Tabou|Tanda|Tiassale|Tiebissou|Tingrela|Touba|Toulepleu|Toumodi|Vavoua|Yamoussoukro|Zuenoula",s_a[55]="Bjelovarsko-Bilogorska Zupanija|Brodsko-Posavska Zupanija|Dubrovacko-Neretvanska Zupanija|Istarska Zupanija|Karlovacka Zupanija|Koprivnicko-Krizevacka Zupanija|Krapinsko-Zagorska Zupanija|Licko-Senjska Zupanija|Medimurska Zupanija|Osjecko-Baranjska Zupanija|Pozesko-Slavonska Zupanija|Primorsko-Goranska Zupanija|Sibensko-Kninska Zupanija|Sisacko-Moslavacka Zupanija|Splitsko-Dalmatinska Zupanija|Varazdinska Zupanija|Viroviticko-Podravska Zupanija|Vukovarsko-Srijemska Zupanija|Zadarska Zupanija|Zagreb|Zagrebacka Zupanija",s_a[56]="Camaguey|Ciego de Avila|Cienfuegos|Ciudad de La Habana|Granma|Guantanamo|Holguin|Isla de la Juventud|La Habana|Las Tunas|Matanzas|Pinar del Rio|Sancti Spiritus|Santiago de Cuba|Villa Clara",s_a[57]="Famagusta|Kyrenia|Larnaca|Limassol|Nicosia|Paphos",s_a[58]="Brnensky|Budejovicky|Jihlavsky|Karlovarsky|Kralovehradecky|Liberecky|Olomoucky|Ostravsky|Pardubicky|Plzensky|Praha|Stredocesky|Ustecky|Zlinsky",s_a[59]="Arhus|Bornholm|Fredericksberg|Frederiksborg|Fyn|Kobenhavn|Kobenhavns|Nordjylland|Ribe|Ringkobing|Roskilde|Sonderjylland|Storstrom|Vejle|Vestsjalland|Viborg",s_a[60]="'Ali Sabih|Dikhil|Djibouti|Obock|Tadjoura",s_a[61]="Saint Andrew|Saint David|Saint George|Saint John|Saint Joseph|Saint Luke|Saint Mark|Saint Patrick|Saint Paul|Saint Peter",s_a[62]="Azua|Baoruco|Barahona|Dajabon|Distrito Nacional|Duarte|El Seibo|Elias Pina|Espaillat|Hato Mayor|Independencia|La Altagracia|La Romana|La Vega|Maria Trinidad Sanchez|Monsenor Nouel|Monte Cristi|Monte Plata|Pedernales|Peravia|Puerto Plata|Salcedo|Samana|San Cristobal|San Juan|San Pedro de Macoris|Sanchez Ramirez|Santiago|Santiago Rodriguez|Valverde",s_a[63]="Azuay|Bolivar|Canar|Carchi|Chimborazo|Cotopaxi|El Oro|Esmeraldas|Galapagos|Guayas|Imbabura|Loja|Los Rios|Manabi|Morona-Santiago|Napo|Orellana|Pastaza|Pichincha|Sucumbios|Tungurahua|Zamora-Chinchipe",s_a[64]="Ad Daqahliyah|Al Bahr al Ahmar|Al Buhayrah|Al Fayyum|Al Gharbiyah|Al Iskandariyah|Al Isma'iliyah|Al Jizah|Al Minufiyah|Al Minya|Al Qahirah|Al Qalyubiyah|Al Wadi al Jadid|As Suways|Ash Sharqiyah|Aswan|Asyut|Bani Suwayf|Bur Sa'id|Dumyat|Janub Sina'|Kafr ash Shaykh|Matruh|Qina|Shamal Sina'|Suhaj",s_a[65]="Ahuachapan|Cabanas|Chalatenango|Cuscatlan|La Libertad|La Paz|La Union|Morazan|San Miguel|San Salvador|San Vicente|Santa Ana|Sonsonate|Usulutan",s_a[66]="Annobon|Bioko Norte|Bioko Sur|Centro Sur|Kie-Ntem|Litoral|Wele-Nzas",s_a[67]="Akale Guzay|Barka|Denkel|Hamasen|Sahil|Semhar|Senhit|Seraye",s_a[68]="Harjumaa (Tallinn)|Hiiumaa (Kardla)|Ida-Virumaa (Johvi)|Jarvamaa (Paide)|Jogevamaa (Jogeva)|Laane-Virumaa (Rakvere)|Laanemaa (Haapsalu)|Parnumaa (Parnu)|Polvamaa (Polva)|Raplamaa (Rapla)|Saaremaa (Kuessaare)|Tartumaa (Tartu)|Valgamaa (Valga)|Viljandimaa (Viljandi)|Vorumaa (Voru)",s_a[69]="Adis Abeba (Addis Ababa)|Afar|Amara|Dire Dawa|Gambela Hizboch|Hareri Hizb|Oromiya|Sumale|Tigray|YeDebub Biheroch Bihereseboch na Hizboch",s_a[70]="Europa Island",s_a[71]="Falkland Islands (Islas Malvinas)",s_a[72]="Bordoy|Eysturoy|Mykines|Sandoy|Skuvoy|Streymoy|Suduroy|Tvoroyri|Vagar",s_a[73]="Central|Eastern|Northern|Rotuma|Western",s_a[74]="Aland|Etela-Suomen Laani|Ita-Suomen Laani|Lansi-Suomen Laani|Lappi|Oulun Laani",s_a[75]="Alsace|Aquitaine|Auvergne|Basse-Normandie|Bourgogne|Bretagne|Centre|Champagne-Ardenne|Corse|Franche-Comte|Haute-Normandie|Ile-de-France|Languedoc-Roussillon|Limousin|Lorraine|Midi-Pyrenees|Nord-Pas-de-Calais|Pays de la Loire|Picardie|Poitou-Charentes|Provence-Alpes-Cote d'Azur|Rhone-Alpes",s_a[76]="French Guiana",s_a[77]="Archipel des Marquises|Archipel des Tuamotu|Archipel des Tubuai|Iles du Vent|Iles Sous-le-Vent",s_a[78]="Adelie Land|Ile Crozet|Iles Kerguelen|Iles Saint-Paul et Amsterdam",s_a[79]="Estuaire|Haut-Ogooue|Moyen-Ogooue|Ngounie|Nyanga|Ogooue-Ivindo|Ogooue-Lolo|Ogooue-Maritime|Woleu-Ntem",s_a[80]="Banjul|Central River|Lower River|North Bank|Upper River|Western",s_a[81]="Gaza Strip",s_a[82]="Abashis|Abkhazia or Ap'khazet'is Avtonomiuri Respublika (Sokhumi)|Adigenis|Ajaria or Acharis Avtonomiuri Respublika (Bat'umi)|Akhalgoris|Akhalk'alak'is|Akhalts'ikhis|Akhmetis|Ambrolauris|Aspindzis|Baghdat'is|Bolnisis|Borjomis|Ch'khorotsqus|Ch'okhatauris|Chiat'ura|Dedop'listsqaros|Dmanisis|Dushet'is|Gardabanis|Gori|Goris|Gurjaanis|Javis|K'arelis|K'ut'aisi|Kaspis|Kharagaulis|Khashuris|Khobis|Khonis|Lagodekhis|Lanch'khut'is|Lentekhis|Marneulis|Martvilis|Mestiis|Mts'khet'is|Ninotsmindis|Onis|Ozurget'is|P'ot'i|Qazbegis|Qvarlis|Rust'avi|Sach'kheris|Sagarejos|Samtrediis|Senakis|Sighnaghis|T'bilisi|T'elavis|T'erjolis|T'et'ritsqaros|T'ianet'is|Tqibuli|Ts'ageris|Tsalenjikhis|Tsalkis|Tsqaltubo|Vanis|Zestap'onis|Zugdidi|Zugdidis",s_a[83]="Baden-Wuerttemberg|Bayern|Berlin|Brandenburg|Bremen|Hamburg|Hessen|Mecklenburg-Vorpommern|Niedersachsen|Nordrhein-Westfalen|Rheinland-Pfalz|Saarland|Sachsen|Sachsen-Anhalt|Schleswig-Holstein|Thueringen",s_a[84]="Ashanti|Brong-Ahafo|Central|Eastern|Greater Accra|Northern|Upper East|Upper West|Volta|Western",s_a[85]="Gibraltar",s_a[86]="Ile du Lys|Ile Glorieuse",s_a[87]="Aitolia kai Akarnania|Akhaia|Argolis|Arkadhia|Arta|Attiki|Ayion Oros (Mt. Athos)|Dhodhekanisos|Drama|Evritania|Evros|Evvoia|Florina|Fokis|Fthiotis|Grevena|Ilia|Imathia|Ioannina|Irakleion|Kardhitsa|Kastoria|Kavala|Kefallinia|Kerkyra|Khalkidhiki|Khania|Khios|Kikladhes|Kilkis|Korinthia|Kozani|Lakonia|Larisa|Lasithi|Lesvos|Levkas|Magnisia|Messinia|Pella|Pieria|Preveza|Rethimni|Rodhopi|Samos|Serrai|Thesprotia|Thessaloniki|Trikala|Voiotia|Xanthi|Zakinthos",s_a[88]="Avannaa (Nordgronland)|Kitaa (Vestgronland)|Tunu (Ostgronland)",s_a[89]="Carriacou and Petit Martinique|Saint Andrew|Saint David|Saint George|Saint John|Saint Mark|Saint Patrick",s_a[90]="Basse-Terre|Grande-Terre|Iles de la Petite Terre|Iles des Saintes|Marie-Galante",s_a[91]="Guam",s_a[92]="Alta Verapaz|Baja Verapaz|Chimaltenango|Chiquimula|El Progreso|Escuintla|Guatemala|Huehuetenango|Izabal|Jalapa|Jutiapa|Peten|Quetzaltenango|Quiche|Retalhuleu|Sacatepequez|San Marcos|Santa Rosa|Solola|Suchitepequez|Totonicapan|Zacapa",s_a[93]="Castel|Forest|St. Andrew|St. Martin|St. Peter Port|St. Pierre du Bois|St. Sampson|St. Saviour|Torteval|Vale",s_a[94]="Beyla|Boffa|Boke|Conakry|Coyah|Dabola|Dalaba|Dinguiraye|Dubreka|Faranah|Forecariah|Fria|Gaoual|Gueckedou|Kankan|Kerouane|Kindia|Kissidougou|Koubia|Koundara|Kouroussa|Labe|Lelouma|Lola|Macenta|Mali|Mamou|Mandiana|Nzerekore|Pita|Siguiri|Telimele|Tougue|Yomou",s_a[95]="Bafata|Biombo|Bissau|Bolama-Bijagos|Cacheu|Gabu|Oio|Quinara|Tombali",s_a[96]="Barima-Waini|Cuyuni-Mazaruni|Demerara-Mahaica|East Berbice-Corentyne|Essequibo Islands-West Demerara|Mahaica-Berbice|Pomeroon-Supenaam|Potaro-Siparuni|Upper Demerara-Berbice|Upper Takutu-Upper Essequibo",s_a[97]="Artibonite|Centre|Grand'Anse|Nord|Nord-Est|Nord-Ouest|Ouest|Sud|Sud-Est",s_a[98]="Heard Island and McDonald Islands",s_a[99]="Holy See (Vatican City)",s_a[100]="Atlantida|Choluteca|Colon|Comayagua|Copan|Cortes|El Paraiso|Francisco Morazan|Gracias a Dios|Intibuca|Islas de la Bahia|La Paz|Lempira|Ocotepeque|Olancho|Santa Barbara|Valle|Yoro",s_a[101]="Hong Kong",s_a[102]="Howland Island",s_a[103]="Bacs-Kiskun|Baranya|Bekes|Bekescsaba|Borsod-Abauj-Zemplen|Budapest|Csongrad|Debrecen|Dunaujvaros|Eger|Fejer|Gyor|Gyor-Moson-Sopron|Hajdu-Bihar|Heves|Hodmezovasarhely|Jasz-Nagykun-Szolnok|Kaposvar|Kecskemet|Komarom-Esztergom|Miskolc|Nagykanizsa|Nograd|Nyiregyhaza|Pecs|Pest|Somogy|Sopron|Szabolcs-Szatmar-Bereg|Szeged|Szekesfehervar|Szolnok|Szombathely|Tatabanya|Tolna|Vas|Veszprem|Veszprem|Zala|Zalaegerszeg",s_a[104]="Akranes|Akureyri|Arnessysla|Austur-Bardhastrandarsysla|Austur-Hunavatnssysla|Austur-Skaftafellssysla|Borgarfjardharsysla|Dalasysla|Eyjafjardharsysla|Gullbringusysla|Hafnarfjordhur|Husavik|Isafjordhur|Keflavik|Kjosarsysla|Kopavogur|Myrasysla|Neskaupstadhur|Nordhur-Isafjardharsysla|Nordhur-Mulasys-la|Nordhur-Thingeyjarsysla|Olafsfjordhur|Rangarvallasysla|Reykjavik|Saudharkrokur|Seydhisfjordhur|Siglufjordhur|Skagafjardharsysla|Snaefellsnes-og Hnappadalssysla|Strandasysla|Sudhur-Mulasysla|Sudhur-Thingeyjarsysla|Vesttmannaeyjar|Vestur-Bardhastrandarsysla|Vestur-Hunavatnssysla|Vestur-Isafjardharsysla|Vestur-Skaftafellssysla",s_a[105]="Andaman and Nicobar Islands|Andhra Pradesh|Arunachal Pradesh|Assam|Bihar|Chandigarh|Chhattisgarh|Dadra and Nagar Haveli|Daman and Diu|Delhi|Goa|Gujarat|Haryana|Himachal Pradesh|Jammu and Kashmir|Jharkhand|Karnataka|Kerala|Lakshadweep|Madhya Pradesh|Maharashtra|Manipur|Meghalaya|Mizoram|Nagaland|Orissa|Pondicherry|Punjab|Rajasthan|Sikkim|Tamil Nadu|Tripura|Uttar Pradesh|Uttaranchal|West Bengal",s_a[106]="Aceh|Bali|Banten|Bengkulu|East Timor|Gorontalo|Irian Jaya|Jakarta Raya|Jambi|Jawa Barat|Jawa Tengah|Jawa Timur|Kalimantan Barat|Kalimantan Selatan|Kalimantan Tengah|Kalimantan Timur|Kepulauan Bangka Belitung|Lampung|Maluku|Maluku Utara|Nusa Tenggara Barat|Nusa Tenggara Timur|Riau|Sulawesi Selatan|Sulawesi Tengah|Sulawesi Tenggara|Sulawesi Utara|Sumatera Barat|Sumatera Selatan|Sumatera Utara|Yogyakarta",s_a[107]="Ardabil|Azarbayjan-e Gharbi|Azarbayjan-e Sharqi|Bushehr|Chahar Mahall va Bakhtiari|Esfahan|Fars|Gilan|Golestan|Hamadan|Hormozgan|Ilam|Kerman|Kermanshah|Khorasan|Khuzestan|Kohgiluyeh va Buyer Ahmad|Kordestan|Lorestan|Markazi|Mazandaran|Qazvin|Qom|Semnan|Sistan va Baluchestan|Tehran|Yazd|Zanjan",s_a[108]="Al Anbar|Al Basrah|Al Muthanna|Al Qadisiyah|An Najaf|Arbil|As Sulaymaniyah|At Ta'mim|Babil|Baghdad|Dahuk|Dhi Qar|Diyala|Karbala'|Maysan|Ninawa|Salah ad Din|Wasit",s_a[109]="Carlow|Cavan|Clare|Cork|Donegal|Dublin|Galway|Kerry|Kildare|Kilkenny|Laois|Leitrim|Limerick|Longford|Louth|Mayo|Meath|Monaghan|Offaly|Roscommon|Sligo|Tipperary|Waterford|Westmeath|Wexford|Wicklow",s_a[110]="Antrim|Ards|Armagh|Ballymena|Ballymoney|Banbridge|Belfast|Carrickfergus|Castlereagh|Coleraine|Cookstown|Craigavon|Derry|Down|Dungannon|Fermanagh|Larne|Limavady|Lisburn|Magherafelt|Moyle|Newry and Mourne|Newtownabbey|North Down|Omagh|Strabane",s_a[111]="Central|Haifa|Jerusalem|Northern|Southern|Tel Aviv",s_a[112]="Abruzzo|Basilicata|Calabria|Campania|Emilia-Romagna|Friuli-Venezia Giulia|Lazio|Liguria|Lombardia|Marche|Molise|Piemonte|Puglia|Sardegna|Sicilia|Toscana|Trentino-Alto Adige|Umbria|Valle d'Aosta|Veneto",s_a[113]="Clarendon|Hanover|Kingston|Manchester|Portland|Saint Andrew|Saint Ann|Saint Catherine|Saint Elizabeth|Saint James|Saint Mary|Saint Thomas|Trelawny|Westmoreland",s_a[114]="Jan Mayen",s_a[115]="Aichi|Akita|Aomori|Chiba|Ehime|Fukui|Fukuoka|Fukushima|Gifu|Gumma|Hiroshima|Hokkaido|Hyogo|Ibaraki|Ishikawa|Iwate|Kagawa|Kagoshima|Kanagawa|Kochi|Kumamoto|Kyoto|Mie|Miyagi|Miyazaki|Nagano|Nagasaki|Nara|Niigata|Oita|Okayama|Okinawa|Osaka|Saga|Saitama|Shiga|Shimane|Shizuoka|Tochigi|Tokushima|Tokyo|Tottori|Toyama|Wakayama|Yamagata|Yamaguchi|Yamanashi",s_a[116]="Jarvis Island",s_a[117]="Jersey",s_a[118]="Johnston Atoll",s_a[119]="'Amman|Ajlun|Al 'Aqabah|Al Balqa'|Al Karak|Al Mafraq|At Tafilah|Az Zarqa'|Irbid|Jarash|Ma'an|Madaba",s_a[120]="Juan de Nova Island",s_a[121]="Almaty|Aqmola|Aqtobe|Astana|Atyrau|Batys Qazaqstan|Bayqongyr|Mangghystau|Ongtustik Qazaqstan|Pavlodar|Qaraghandy|Qostanay|Qyzylorda|Shyghys Qazaqstan|Soltustik Qazaqstan|Zhambyl",s_a[122]="Central|Coast|Eastern|Nairobi Area|North Eastern|Nyanza|Rift Valley|Western",s_a[123]="Abaiang|Abemama|Aranuka|Arorae|Banaba|Banaba|Beru|Butaritari|Central Gilberts|Gilbert Islands|Kanton|Kiritimati|Kuria|Line Islands|Line Islands|Maiana|Makin|Marakei|Nikunau|Nonouti|Northern Gilberts|Onotoa|Phoenix Islands|Southern Gilberts|Tabiteuea|Tabuaeran|Tamana|Tarawa|Tarawa|Teraina",s_a[124]="Chagang-do (Chagang Province)|Hamgyong-bukto (North Hamgyong Province)|Hamgyong-namdo (South Hamgyong Province)|Hwanghae-bukto (North Hwanghae Province)|Hwanghae-namdo (South Hwanghae Province)|Kaesong-si (Kaesong City)|Kangwon-do (Kangwon Province)|Namp'o-si (Namp'o City)|P'yongan-bukto (North P'yongan Province)|P'yongan-namdo (South P'yongan Province)|P'yongyang-si (P'yongyang City)|Yanggang-do (Yanggang Province)",s_a[125]="Ch'ungch'ong-bukto|Ch'ungch'ong-namdo|Cheju-do|Cholla-bukto|Cholla-namdo|Inch'on-gwangyoksi|Kangwon-do|Kwangju-gwangyoksi|Kyonggi-do|Kyongsang-bukto|Kyongsang-namdo|Pusan-gwangyoksi|Soul-t'ukpyolsi|Taegu-gwangyoksi|Taejon-gwangyoksi|Ulsan-gwangyoksi",s_a[126]="Al 'Asimah|Al Ahmadi|Al Farwaniyah|Al Jahra'|Hawalli",s_a[127]="Batken Oblasty|Bishkek Shaary|Chuy Oblasty (Bishkek)|Jalal-Abad Oblasty|Naryn Oblasty|Osh Oblasty|Talas Oblasty|Ysyk-Kol Oblasty (Karakol)",s_a[128]="Attapu|Bokeo|Bolikhamxai|Champasak|Houaphan|Khammouan|Louangnamtha|Louangphabang|Oudomxai|Phongsali|Salavan|Savannakhet|Viangchan|Viangchan|Xaignabouli|Xaisomboun|Xekong|Xiangkhoang",s_a[129]="Aizkraukles Rajons|Aluksnes Rajons|Balvu Rajons|Bauskas Rajons|Cesu Rajons|Daugavpils|Daugavpils Rajons|Dobeles Rajons|Gulbenes Rajons|Jekabpils Rajons|Jelgava|Jelgavas Rajons|Jurmala|Kraslavas Rajons|Kuldigas Rajons|Leipaja|Liepajas Rajons|Limbazu Rajons|Ludzas Rajons|Madonas Rajons|Ogres Rajons|Preilu Rajons|Rezekne|Rezeknes Rajons|Riga|Rigas Rajons|Saldus Rajons|Talsu Rajons|Tukuma Rajons|Valkas Rajons|Valmieras Rajons|Ventspils|Ventspils Rajons",s_a[130]="Beyrouth|Ech Chimal|Ej Jnoub|El Bekaa|Jabal Loubnane",s_a[131]="Berea|Butha-Buthe|Leribe|Mafeteng|Maseru|Mohales Hoek|Mokhotlong|Qacha's Nek|Quthing|Thaba-Tseka",s_a[132]="Bomi|Bong|Grand Bassa|Grand Cape Mount|Grand Gedeh|Grand Kru|Lofa|Margibi|Maryland|Montserrado|Nimba|River Cess|Sinoe",s_a[133]="Ajdabiya|Al 'Aziziyah|Al Fatih|Al Jabal al Akhdar|Al Jufrah|Al Khums|Al Kufrah|An Nuqat al Khams|Ash Shati'|Awbari|Az Zawiyah|Banghazi|Darnah|Ghadamis|Gharyan|Misratah|Murzuq|Sabha|Sawfajjin|Surt|Tarabulus|Tarhunah|Tubruq|Yafran|Zlitan",s_a[134]="Balzers|Eschen|Gamprin|Mauren|Planken|Ruggell|Schaan|Schellenberg|Triesen|Triesenberg|Vaduz",s_a[135]="Akmenes Rajonas|Alytaus Rajonas|Alytus|Anyksciu Rajonas|Birstonas|Birzu Rajonas|Druskininkai|Ignalinos Rajonas|Jonavos Rajonas|Joniskio Rajonas|Jurbarko Rajonas|Kaisiadoriu Rajonas|Kaunas|Kauno Rajonas|Kedainiu Rajonas|Kelmes Rajonas|Klaipeda|Klaipedos Rajonas|Kretingos Rajonas|Kupiskio Rajonas|Lazdiju Rajonas|Marijampole|Marijampoles Rajonas|Mazeikiu Rajonas|Moletu Rajonas|Neringa Pakruojo Rajonas|Palanga|Panevezio Rajonas|Panevezys|Pasvalio Rajonas|Plunges Rajonas|Prienu Rajonas|Radviliskio Rajonas|Raseiniu Rajonas|Rokiskio Rajonas|Sakiu Rajonas|Salcininku Rajonas|Siauliai|Siauliu Rajonas|Silales Rajonas|Silutes Rajonas|Sirvintu Rajonas|Skuodo Rajonas|Svencioniu Rajonas|Taurages Rajonas|Telsiu Rajonas|Traku Rajonas|Ukmerges Rajonas|Utenos Rajonas|Varenos Rajonas|Vilkaviskio Rajonas|Vilniaus Rajonas|Vilnius|Zarasu Rajonas",s_a[136]="Diekirch|Grevenmacher|Luxembourg",s_a[137]="Macau",s_a[138]="Aracinovo|Bac|Belcista|Berovo|Bistrica|Bitola|Blatec|Bogdanci|Bogomila|Bogovinje|Bosilovo|Brvenica|Cair (Skopje)|Capari|Caska|Cegrane|Centar (Skopje)|Centar Zupa|Cesinovo|Cucer-Sandevo|Debar|Delcevo|Delogozdi|Demir Hisar|Demir Kapija|Dobrusevo|Dolna Banjica|Dolneni|Dorce Petrov (Skopje)|Drugovo|Dzepciste|Gazi Baba (Skopje)|Gevgelija|Gostivar|Gradsko|Ilinden|Izvor|Jegunovce|Kamenjane|Karbinci|Karpos (Skopje)|Kavadarci|Kicevo|Kisela Voda (Skopje)|Klecevce|Kocani|Konce|Kondovo|Konopiste|Kosel|Kratovo|Kriva Palanka|Krivogastani|Krusevo|Kuklis|Kukurecani|Kumanovo|Labunista|Lipkovo|Lozovo|Lukovo|Makedonska Kamenica|Makedonski Brod|Mavrovi Anovi|Meseista|Miravci|Mogila|Murtino|Negotino|Negotino-Poloska|Novaci|Novo Selo|Oblesevo|Ohrid|Orasac|Orizari|Oslomej|Pehcevo|Petrovec|Plasnia|Podares|Prilep|Probistip|Radovis|Rankovce|Resen|Rosoman|Rostusa|Samokov|Saraj|Sipkovica|Sopiste|Sopotnika|Srbinovo|Star Dojran|Staravina|Staro Nagoricane|Stip|Struga|Strumica|Studenicani|Suto Orizari (Skopje)|Sveti Nikole|Tearce|Tetovo|Topolcani|Valandovo|Vasilevo|Veles|Velesta|Vevcani|Vinica|Vitoliste|Vranestica|Vrapciste|Vratnica|Vrutok|Zajas|Zelenikovo|Zileno|Zitose|Zletovo|Zrnovci",s_a[139]="Antananarivo|Antsiranana|Fianarantsoa|Mahajanga|Toamasina|Toliara",s_a[140]="Balaka|Blantyre|Chikwawa|Chiradzulu|Chitipa|Dedza|Dowa|Karonga|Kasungu|Likoma|Lilongwe|Machinga (Kasupe)|Mangochi|Mchinji|Mulanje|Mwanza|Mzimba|Nkhata Bay|Nkhotakota|Nsanje|Ntcheu|Ntchisi|Phalombe|Rumphi|Salima|Thyolo|Zomba",s_a[141]="Johor|Kedah|Kelantan|Labuan|Melaka|Negeri Sembilan|Pahang|Perak|Perlis|Pulau Pinang|Sabah|Sarawak|Selangor|Terengganu|Wilayah Persekutuan",s_a[142]="Alifu|Baa|Dhaalu|Faafu|Gaafu Alifu|Gaafu Dhaalu|Gnaviyani|Haa Alifu|Haa Dhaalu|Kaafu|Laamu|Lhaviyani|Maale|Meemu|Noonu|Raa|Seenu|Shaviyani|Thaa|Vaavu",s_a[143]="Gao|Kayes|Kidal|Koulikoro|Mopti|Segou|Sikasso|Tombouctou",s_a[144]="Valletta",s_a[145]="Man, Isle of",s_a[146]="Ailinginae|Ailinglaplap|Ailuk|Arno|Aur|Bikar|Bikini|Bokak|Ebon|Enewetak|Erikub|Jabat|Jaluit|Jemo|Kili|Kwajalein|Lae|Lib|Likiep|Majuro|Maloelap|Mejit|Mili|Namorik|Namu|Rongelap|Rongrik|Toke|Ujae|Ujelang|Utirik|Wotho|Wotje",s_a[147]="Martinique",s_a[148]="Adrar|Assaba|Brakna|Dakhlet Nouadhibou|Gorgol|Guidimaka|Hodh Ech Chargui|Hodh El Gharbi|Inchiri|Nouakchott|Tagant|Tiris Zemmour|Trarza",s_a[149]="Agalega Islands|Black River|Cargados Carajos Shoals|Flacq|Grand Port|Moka|Pamplemousses|Plaines Wilhems|Port Louis|Riviere du Rempart|Rodrigues|Savanne",s_a[150]="Mayotte",s_a[151]="Aguascalientes|Baja California|Baja California Sur|Campeche|Chiapas|Chihuahua|Coahuila de Zaragoza|Colima|Distrito Federal|Durango|Guanajuato|Guerrero|Hidalgo|Jalisco|Mexico|Michoacan de Ocampo|Morelos|Nayarit|Nuevo Leon|Oaxaca|Puebla|Queretaro de Arteaga|Quintana Roo|San Luis Potosi|Sinaloa|Sonora|Tabasco|Tamaulipas|Tlaxcala|Veracruz-Llave|Yucatan|Zacatecas",s_a[152]="Chuuk (Truk)|Kosrae|Pohnpei|Yap",s_a[153]="Midway Islands",s_a[154]="Balti|Cahul|Chisinau|Chisinau|Dubasari|Edinet|Gagauzia|Lapusna|Orhei|Soroca|Tighina|Ungheni",s_a[155]="Fontvieille|La Condamine|Monaco-Ville|Monte-Carlo",s_a[156]="Arhangay|Bayan-Olgiy|Bayanhongor|Bulgan|Darhan|Dornod|Dornogovi|Dundgovi|Dzavhan|Erdenet|Govi-Altay|Hentiy|Hovd|Hovsgol|Omnogovi|Ovorhangay|Selenge|Suhbaatar|Tov|Ulaanbaatar|Uvs",s_a[157]="Saint Anthony|Saint Georges|Saint Peter's",s_a[158]="Agadir|Al Hoceima|Azilal|Ben Slimane|Beni Mellal|Boulemane|Casablanca|Chaouen|El Jadida|El Kelaa des Srarhna|Er Rachidia|Essaouira|Fes|Figuig|Guelmim|Ifrane|Kenitra|Khemisset|Khenifra|Khouribga|Laayoune|Larache|Marrakech|Meknes|Nador|Ouarzazate|Oujda|Rabat-Sale|Safi|Settat|Sidi Kacem|Tan-Tan|Tanger|Taounate|Taroudannt|Tata|Taza|Tetouan|Tiznit",s_a[159]="Cabo Delgado|Gaza|Inhambane|Manica|Maputo|Nampula|Niassa|Sofala|Tete|Zambezia",s_a[160]="Caprivi|Erongo|Hardap|Karas|Khomas|Kunene|Ohangwena|Okavango|Omaheke|Omusati|Oshana|Oshikoto|Otjozondjupa",s_a[161]="Aiwo|Anabar|Anetan|Anibare|Baiti|Boe|Buada|Denigomodu|Ewa|Ijuw|Meneng|Nibok|Uaboe|Yaren",s_a[162]="Bagmati|Bheri|Dhawalagiri|Gandaki|Janakpur|Karnali|Kosi|Lumbini|Mahakali|Mechi|Narayani|Rapti|Sagarmatha|Seti",s_a[163]="Drenthe|Flevoland|Friesland|Gelderland|Groningen|Limburg|Noord-Brabant|Noord-Holland|Overijssel|Utrecht|Zeeland|Zuid-Holland",s_a[164]="Netherlands Antilles",s_a[165]="Iles Loyaute|Nord|Sud",s_a[166]="Akaroa|Amuri|Ashburton|Bay of Islands|Bruce|Buller|Chatham Islands|Cheviot|Clifton|Clutha|Cook|Dannevirke|Egmont|Eketahuna|Ellesmere|Eltham|Eyre|Featherston|Franklin|Golden Bay|Great Barrier Island|Grey|Hauraki Plains|Hawera|Hawke's Bay|Heathcote|Hikurangi|Hobson|Hokianga|Horowhenua|Hurunui|Hutt|Inangahua|Inglewood|Kaikoura|Kairanga|Kiwitea|Lake|Mackenzie|Malvern|Manaia|Manawatu|Mangonui|Maniototo|Marlborough|Masterton|Matamata|Mount Herbert|Ohinemuri|Opotiki|Oroua|Otamatea|Otorohanga|Oxford|Pahiatua|Paparua|Patea|Piako|Pohangina|Raglan|Rangiora|Rangitikei|Rodney|Rotorua|Runanga|Saint Kilda|Silverpeaks|Southland|Stewart Island|Stratford|Strathallan|Taranaki|Taumarunui|Taupo|Tauranga|Thames-Coromandel|Tuapeka|Vincent|Waiapu|Waiheke|Waihemo|Waikato|Waikohu|Waimairi|Waimarino|Waimate|Waimate West|Waimea|Waipa|Waipawa|Waipukurau|Wairarapa South|Wairewa|Wairoa|Waitaki|Waitomo|Waitotara|Wallace|Wanganui|Waverley|Westland|Whakatane|Whangarei|Whangaroa|Woodville",s_a[167]="Atlantico Norte|Atlantico Sur|Boaco|Carazo|Chinandega|Chontales|Esteli|Granada|Jinotega|Leon|Madriz|Managua|Masaya|Matagalpa|Nueva Segovia|Rio San Juan|Rivas",s_a[168]="Agadez|Diffa|Dosso|Maradi|Niamey|Tahoua|Tillaberi|Zinder",s_a[169]="Abia|Abuja Federal Capital Territory|Adamawa|Akwa Ibom|Anambra|Bauchi|Bayelsa|Benue|Borno|Cross River|Delta|Ebonyi|Edo|Ekiti|Enugu|Gombe|Imo|Jigawa|Kaduna|Kano|Katsina|Kebbi|Kogi|Kwara|Lagos|Nassarawa|Niger|Ogun|Ondo|Osun|Oyo|Plateau|Rivers|Sokoto|Taraba|Yobe|Zamfara",s_a[170]="Niue",s_a[171]="Norfolk Island",s_a[172]="Northern Islands|Rota|Saipan|Tinian",s_a[173]="Akershus|Aust-Agder|Buskerud|Finnmark|Hedmark|Hordaland|More og Romsdal|Nord-Trondelag|Nordland|Oppland|Oslo|Ostfold|Rogaland|Sogn og Fjordane|Sor-Trondelag|Telemark|Troms|Vest-Agder|Vestfold",s_a[174]="Ad Dakhiliyah|Al Batinah|Al Wusta|Ash Sharqiyah|Az Zahirah|Masqat|Musandam|Zufar",s_a[175]="Balochistan|Federally Administered Tribal Areas|Islamabad Capital Territory|North-West Frontier Province|Punjab|Sindh",s_a[176]="Aimeliik|Airai|Angaur|Hatobohei|Kayangel|Koror|Melekeok|Ngaraard|Ngarchelong|Ngardmau|Ngatpang|Ngchesar|Ngeremlengui|Ngiwal|Palau Island|Peleliu|Sonsoral|Tobi",s_a[177]="Bocas del Toro|Chiriqui|Cocle|Colon|Darien|Herrera|Los Santos|Panama|San Blas|Veraguas",s_a[178]="Bougainville|Central|Chimbu|East New Britain|East Sepik|Eastern Highlands|Enga|Gulf|Madang|Manus|Milne Bay|Morobe|National Capital|New Ireland|Northern|Sandaun|Southern Highlands|West New Britain|Western|Western Highlands",s_a[179]="Alto Paraguay|Alto Parana|Amambay|Asuncion (city)|Boqueron|Caaguazu|Caazapa|Canindeyu|Central|Concepcion|Cordillera|Guaira|Itapua|Misiones|Neembucu|Paraguari|Presidente Hayes|San Pedro",s_a[180]="Amazonas|Ancash|Apurimac|Arequipa|Ayacucho|Cajamarca|Callao|Cusco|Huancavelica|Huanuco|Ica|Junin|La Libertad|Lambayeque|Lima|Loreto|Madre de Dios|Moquegua|Pasco|Piura|Puno|San Martin|Tacna|Tumbes|Ucayali",s_a[181]="Abra|Agusan del Norte|Agusan del Sur|Aklan|Albay|Angeles|Antique|Aurora|Bacolod|Bago|Baguio|Bais|Basilan|Basilan City|Bataan|Batanes|Batangas|Batangas City|Benguet|Bohol|Bukidnon|Bulacan|Butuan|Cabanatuan|Cadiz|Cagayan|Cagayan de Oro|Calbayog|Caloocan|Camarines Norte|Camarines Sur|Camiguin|Canlaon|Capiz|Catanduanes|Cavite|Cavite City|Cebu|Cebu City|Cotabato|Dagupan|Danao|Dapitan|Davao City Davao|Davao del Sur|Davao Oriental|Dipolog|Dumaguete|Eastern Samar|General Santos|Gingoog|Ifugao|Iligan|Ilocos Norte|Ilocos Sur|Iloilo|Iloilo City|Iriga|Isabela|Kalinga-Apayao|La Carlota|La Union|Laguna|Lanao del Norte|Lanao del Sur|Laoag|Lapu-Lapu|Legaspi|Leyte|Lipa|Lucena|Maguindanao|Mandaue|Manila|Marawi|Marinduque|Masbate|Mindoro Occidental|Mindoro Oriental|Misamis Occidental|Misamis Oriental|Mountain|Naga|Negros Occidental|Negros Oriental|North Cotabato|Northern Samar|Nueva Ecija|Nueva Vizcaya|Olongapo|Ormoc|Oroquieta|Ozamis|Pagadian|Palawan|Palayan|Pampanga|Pangasinan|Pasay|Puerto Princesa|Quezon|Quezon City|Quirino|Rizal|Romblon|Roxas|Samar|San Carlos (in Negros Occidental)|San Carlos (in Pangasinan)|San Jose|San Pablo|Silay|Siquijor|Sorsogon|South Cotabato|Southern Leyte|Sultan Kudarat|Sulu|Surigao|Surigao del Norte|Surigao del Sur|Tacloban|Tagaytay|Tagbilaran|Tangub|Tarlac|Tawitawi|Toledo|Trece Martires|Zambales|Zamboanga|Zamboanga del Norte|Zamboanga del Sur",s_a[182]="Pitcaim Islands",s_a[183]="Dolnoslaskie|Kujawsko-Pomorskie|Lodzkie|Lubelskie|Lubuskie|Malopolskie|Mazowieckie|Opolskie|Podkarpackie|Podlaskie|Pomorskie|Slaskie|Swietokrzyskie|Warminsko-Mazurskie|Wielkopolskie|Zachodniopomorskie",s_a[184]="Acores (Azores)|Aveiro|Beja|Braga|Braganca|Castelo Branco|Coimbra|Evora|Faro|Guarda|Leiria|Lisboa|Madeira|Portalegre|Porto|Santarem|Setubal|Viana do Castelo|Vila Real|Viseu",s_a[185]="Adjuntas|Aguada|Aguadilla|Aguas Buenas|Aibonito|Anasco|Arecibo|Arroyo|Barceloneta|Barranquitas|Bayamon|Cabo Rojo|Caguas|Camuy|Canovanas|Carolina|Catano|Cayey|Ceiba|Ciales|Cidra|Coamo|Comerio|Corozal|Culebra|Dorado|Fajardo|Florida|Guanica|Guayama|Guayanilla|Guaynabo|Gurabo|Hatillo|Hormigueros|Humacao|Isabela|Jayuya|Juana Diaz|Juncos|Lajas|Lares|Las Marias|Las Piedras|Loiza|Luquillo|Manati|Maricao|Maunabo|Mayaguez|Moca|Morovis|Naguabo|Naranjito|Orocovis|Patillas|Penuelas|Ponce|Quebradillas|Rincon|Rio Grande|Sabana Grande|Salinas|San German|San Juan|San Lorenzo|San Sebastian|Santa Isabel|Toa Alta|Toa Baja|Trujillo Alto|Utuado|Vega Alta|Vega Baja|Vieques|Villalba|Yabucoa|Yauco",s_a[186]="Ad Dawhah|Al Ghuwayriyah|Al Jumayliyah|Al Khawr|Al Wakrah|Ar Rayyan|Jarayan al Batinah|Madinat ash Shamal|Umm Salal",s_a[187]="Reunion",s_a[188]="Alba|Arad|Arges|Bacau|Bihor|Bistrita-Nasaud|Botosani|Braila|Brasov|Bucuresti|Buzau|Calarasi|Caras-Severin|Cluj|Constanta|Covasna|Dimbovita|Dolj|Galati|Giurgiu|Gorj|Harghita|Hunedoara|Ialomita|Iasi|Maramures|Mehedinti|Mures|Neamt|Olt|Prahova|Salaj|Satu Mare|Sibiu|Suceava|Teleorman|Timis|Tulcea|Vaslui|Vilcea|Vrancea",s_a[189]="Adygeya (Maykop)|Aginskiy Buryatskiy (Aginskoye)|Altay (Gorno-Altaysk)|Altayskiy (Barnaul)|Amurskaya (Blagoveshchensk)|Arkhangel'skaya|Astrakhanskaya|Bashkortostan (Ufa)|Belgorodskaya|Bryanskaya|Buryatiya (Ulan-Ude)|Chechnya (Groznyy)|Chelyabinskaya|Chitinskaya|Chukotskiy (Anadyr')|Chuvashiya (Cheboksary)|Dagestan (Makhachkala)|Evenkiyskiy (Tura)|Ingushetiya (Nazran')|Irkutskaya|Ivanovskaya|Kabardino-Balkariya (Nal'chik)|Kaliningradskaya|Kalmykiya (Elista)|Kaluzhskaya|Kamchatskaya (Petropavlovsk-Kamchatskiy)|Karachayevo-Cherkesiya (Cherkessk)|Kareliya (Petrozavodsk)|Kemerovskaya|Khabarovskiy|Khakasiya (Abakan)|Khanty-Mansiyskiy (Khanty-Mansiysk)|Kirovskaya|Komi (Syktyvkar)|Komi-Permyatskiy (Kudymkar)|Koryakskiy (Palana)|Kostromskaya|Krasnodarskiy|Krasnoyarskiy|Kurganskaya|Kurskaya|Leningradskaya|Lipetskaya|Magadanskaya|Mariy-El (Yoshkar-Ola)|Mordoviya (Saransk)|Moskovskaya|Moskva (Moscow)|Murmanskaya|Nenetskiy (Nar'yan-Mar)|Nizhegorodskaya|Novgorodskaya|Novosibirskaya|Omskaya|Orenburgskaya|Orlovskaya (Orel)|Penzenskaya|Permskaya|Primorskiy (Vladivostok)|Pskovskaya|Rostovskaya|Ryazanskaya|Sakha (Yakutsk)|Sakhalinskaya (Yuzhno-Sakhalinsk)|Samarskaya|Sankt-Peterburg (Saint Petersburg)|Saratovskaya|Severnaya Osetiya-Alaniya [North Ossetia] (Vladikavkaz)|Smolenskaya|Stavropol'skiy|Sverdlovskaya (Yekaterinburg)|Tambovskaya|Tatarstan (Kazan')|Taymyrskiy (Dudinka)|Tomskaya|Tul'skaya|Tverskaya|Tyumenskaya|Tyva (Kyzyl)|Udmurtiya (Izhevsk)|Ul'yanovskaya|Ust'-Ordynskiy Buryatskiy (Ust'-Ordynskiy)|Vladimirskaya|Volgogradskaya|Vologodskaya|Voronezhskaya|Yamalo-Nenetskiy (Salekhard)|Yaroslavskaya|Yevreyskaya",s_a[190]="Butare|Byumba|Cyangugu|Gikongoro|Gisenyi|Gitarama|Kibungo|Kibuye|Kigali Rurale|Kigali-ville|Ruhengeri|Umutara",s_a[191]="Ascension|Saint Helena|Tristan da Cunha",s_a[192]="Christ Church Nichola Town|Saint Anne Sandy Point|Saint George Basseterre|Saint George Gingerland|Saint James Windward|Saint John Capisterre|Saint John Figtree|Saint Mary Cayon|Saint Paul Capisterre|Saint Paul Charlestown|Saint Peter Basseterre|Saint Thomas Lowland|Saint Thomas Middle Island|Trinity Palmetto Point",s_a[193]="Anse-la-Raye|Castries|Choiseul|Dauphin|Dennery|Gros Islet|Laborie|Micoud|Praslin|Soufriere|Vieux Fort",s_a[194]="Miquelon|Saint Pierre",s_a[195]="Charlotte|Grenadines|Saint Andrew|Saint David|Saint George|Saint Patrick",s_a[196]="A'ana|Aiga-i-le-Tai|Atua|Fa'asaleleaga|Gaga'emauga|Gagaifomauga|Palauli|Satupa'itea|Tuamasaga|Va'a-o-Fonoti|Vaisigano",s_a[197]="Acquaviva|Borgo Maggiore|Chiesanuova|Domagnano|Faetano|Fiorentino|Monte Giardino|San Marino|Serravalle",s_a[198]="Principe|Sao Tome",s_a[199]="'Asir|Al Bahah|Al Hudud ash Shamaliyah|Al Jawf|Al Madinah|Al Qasim|Ar Riyad|Ash Sharqiyah (Eastern Province)|Ha'il|Jizan|Makkah|Najran|Tabuk";s_a[200]="Aberdeen City|Aberdeenshire|Angus|Argyll and Bute|City of Edinburgh|Clackmannanshire|Dumfries and Galloway|Dundee City|East Ayrshire|East Dunbartonshire|East Lothian|East Renfrewshire|Eilean Siar (Western Isles)|Falkirk|Fife|Glasgow City|Highland|Inverclyde|Midlothian|Moray|North Ayrshire|North Lanarkshire|Orkney Islands|Perth and Kinross|Renfrewshire|Shetland Islands|South Ayrshire|South Lanarkshire|Stirling|The Scottish Borders|West Dunbartonshire|West Lothian",s_a[201]="Dakar|Diourbel|Fatick|Kaolack|Kolda|Louga|Saint-Louis|Tambacounda|Thies|Ziguinchor",s_a[202]="Anse aux Pins|Anse Boileau|Anse Etoile|Anse Louis|Anse Royale|Baie Lazare|Baie Sainte Anne|Beau Vallon|Bel Air|Bel Ombre|Cascade|Glacis|Grand' Anse (on Mahe)|Grand' Anse (on Praslin)|La Digue|La Riviere Anglaise|Mont Buxton|Mont Fleuri|Plaisance|Pointe La Rue|Port Glaud|Saint Louis|Takamaka",s_a[203]="Eastern|Northern|Southern|Western",s_a[204]="Singapore",s_a[205]="Banskobystricky|Bratislavsky|Kosicky|Nitriansky|Presovsky|Trenciansky|Trnavsky|Zilinsky",s_a[206]="Ajdovscina|Beltinci|Bled|Bohinj|Borovnica|Bovec|Brda|Brezice|Brezovica|Cankova-Tisina|Celje|Cerklje na Gorenjskem|Cerknica|Cerkno|Crensovci|Crna na Koroskem|Crnomelj|Destrnik-Trnovska Vas|Divaca|Dobrepolje|Dobrova-Horjul-Polhov Gradec|Dol pri Ljubljani|Domzale|Dornava|Dravograd|Duplek|Gorenja Vas-Poljane|Gorisnica|Gornja Radgona|Gornji Grad|Gornji Petrovci|Grosuplje|Hodos Salovci|Hrastnik|Hrpelje-Kozina|Idrija|Ig|Ilirska Bistrica|Ivancna Gorica|Izola|Jesenice|Jursinci|Kamnik|Kanal|Kidricevo|Kobarid|Kobilje|Kocevje|Komen|Koper|Kozje|Kranj|Kranjska Gora|Krsko|Kungota|Kuzma|Lasko|Lenart|Lendava|Litija|Ljubljana|Ljubno|Ljutomer|Logatec|Loska Dolina|Loski Potok|Luce|Lukovica|Majsperk|Maribor|Medvode|Menges|Metlika|Mezica|Miren-Kostanjevica|Mislinja|Moravce|Moravske Toplice|Mozirje|Murska Sobota|Muta|Naklo|Nazarje|Nova Gorica|Novo Mesto|Odranci|Ormoz|Osilnica|Pesnica|Piran|Pivka|Podcetrtek|Podvelka-Ribnica|Postojna|Preddvor|Ptuj|Puconci|Race-Fram|Radece|Radenci|Radlje ob Dravi|Radovljica|Ravne-Prevalje|Ribnica|Rogasevci|Rogaska Slatina|Rogatec|Ruse|Semic|Sencur|Sentilj|Sentjernej|Sentjur pri Celju|Sevnica|Sezana|Skocjan|Skofja Loka|Skofljica|Slovenj Gradec|Slovenska Bistrica|Slovenske Konjice|Smarje pri Jelsah|Smartno ob Paki|Sostanj|Starse|Store|Sveti Jurij|Tolmin|Trbovlje|Trebnje|Trzic|Turnisce|Velenje|Velike Lasce|Videm|Vipava|Vitanje|Vodice|Vojnik|Vrhnika|Vuzenica|Zagorje ob Savi|Zalec|Zavrc|Zelezniki|Ziri|Zrece",s_a[207]="Bellona|Central|Choiseul (Lauru)|Guadalcanal|Honiara|Isabel|Makira|Malaita|Rennell|Temotu|Western",s_a[208]="Awdal|Bakool|Banaadir|Bari|Bay|Galguduud|Gedo|Hiiraan|Jubbada Dhexe|Jubbada Hoose|Mudug|Nugaal|Sanaag|Shabeellaha Dhexe|Shabeellaha Hoose|Sool|Togdheer|Woqooyi Galbeed",s_a[209]="Eastern Cape|Free State|Gauteng|KwaZulu-Natal|Mpumalanga|North-West|Northern Cape|Northern Province|Western Cape",s_a[210]="Bird Island|Bristol Island|Clerke Rocks|Montagu Island|Saunders Island|South Georgia|Southern Thule|Traversay Islands",s_a[211]="Andalucia|Aragon|Asturias|Baleares (Balearic Islands)|Canarias (Canary Islands)|Cantabria|Castilla y Leon|Castilla-La Mancha|Cataluna|Ceuta|Communidad Valencian|Extremadura|Galicia|Islas Chafarinas|La Rioja|Madrid|Melilla|Murcia|Navarra|Pais Vasco (Basque Country)|Penon de Alhucemas|Penon de Velez de la Gomera",s_a[212]="Spratly Islands",s_a[213]="Central|Eastern|North Central|North Eastern|North Western|Northern|Sabaragamuwa|Southern|Uva|Western",s_a[214]="A'ali an Nil|Al Bahr al Ahmar|Al Buhayrat|Al Jazirah|Al Khartum|Al Qadarif|Al Wahdah|An Nil al Abyad|An Nil al Azraq|Ash Shamaliyah|Bahr al Jabal|Gharb al Istiwa'iyah|Gharb Bahr al Ghazal|Gharb Darfur|Gharb Kurdufan|Janub Darfur|Janub Kurdufan|Junqali|Kassala|Nahr an Nil|Shamal Bahr al Ghazal|Shamal Darfur|Shamal Kurdufan|Sharq al Istiwa'iyah|Sinnar|Warab",s_a[215]="Brokopondo|Commewijne|Coronie|Marowijne|Nickerie|Para|Paramaribo|Saramacca|Sipaliwini|Wanica",s_a[216]="Barentsoya|Bjornoya|Edgeoya|Hopen|Kvitoya|Nordaustandet|Prins Karls Forland|Spitsbergen",s_a[217]="Hhohho|Lubombo|Manzini|Shiselweni",s_a[218]="Blekinge|Dalarnas|Gavleborgs|Gotlands|Hallands|Jamtlands|Jonkopings|Kalmar|Kronobergs|Norrbottens|Orebro|Ostergotlands|Skane|Sodermanlands|Stockholms|Uppsala|Varmlands|Vasterbottens|Vasternorrlands|Vastmanlands|Vastra Gotalands",s_a[219]="Aargau|Ausser-Rhoden|Basel-Landschaft|Basel-Stadt|Bern|Fribourg|Geneve|Glarus|Graubunden|Inner-Rhoden|Jura|Luzern|Neuchatel|Nidwalden|Obwalden|Sankt Gallen|Schaffhausen|Schwyz|Solothurn|Thurgau|Ticino|Uri|Valais|Vaud|Zug|Zurich",s_a[220]="Al Hasakah|Al Ladhiqiyah|Al Qunaytirah|Ar Raqqah|As Suwayda'|Dar'a|Dayr az Zawr|Dimashq|Halab|Hamah|Hims|Idlib|Rif Dimashq|Tartus",s_a[221]="Chang-hua|Chi-lung|Chia-i|Chia-i|Chung-hsing-hsin-ts'un|Hsin-chu|Hsin-chu|Hua-lien|I-lan|Kao-hsiung|Kao-hsiung|Miao-li|Nan-t'ou|P'eng-hu|P'ing-tung|T'ai-chung|T'ai-chung|T'ai-nan|T'ai-nan|T'ai-pei|T'ai-pei|T'ai-tung|T'ao-yuan|Yun-lin",s_a[222]="Viloyati Khatlon|Viloyati Leninobod|Viloyati Mukhtori Kuhistoni Badakhshon",s_a[223]="Arusha|Dar es Salaam|Dodoma|Iringa|Kagera|Kigoma|Kilimanjaro|Lindi|Mara|Mbeya|Morogoro|Mtwara|Mwanza|Pemba North|Pemba South|Pwani|Rukwa|Ruvuma|Shinyanga|Singida|Tabora|Tanga|Zanzibar Central/South|Zanzibar North|Zanzibar Urban/West",s_a[224]="Amnat Charoen|Ang Thong|Buriram|Chachoengsao|Chai Nat|Chaiyaphum|Chanthaburi|Chiang Mai|Chiang Rai|Chon Buri|Chumphon|Kalasin|Kamphaeng Phet|Kanchanaburi|Khon Kaen|Krabi|Krung Thep Mahanakhon (Bangkok)|Lampang|Lamphun|Loei|Lop Buri|Mae Hong Son|Maha Sarakham|Mukdahan|Nakhon Nayok|Nakhon Pathom|Nakhon Phanom|Nakhon Ratchasima|Nakhon Sawan|Nakhon Si Thammarat|Nan|Narathiwat|Nong Bua Lamphu|Nong Khai|Nonthaburi|Pathum Thani|Pattani|Phangnga|Phatthalung|Phayao|Phetchabun|Phetchaburi|Phichit|Phitsanulok|Phra Nakhon Si Ayutthaya|Phrae|Phuket|Prachin Buri|Prachuap Khiri Khan|Ranong|Ratchaburi|Rayong|Roi Et|Sa Kaeo|Sakon Nakhon|Samut Prakan|Samut Sakhon|Samut Songkhram|Sara Buri|Satun|Sing Buri|Sisaket|Songkhla|Sukhothai|Suphan Buri|Surat Thani|Surin|Tak|Trang|Trat|Ubon Ratchathani|Udon Thani|Uthai Thani|Uttaradit|Yala|Yasothon",s_a[225]="Tobago",s_a[226]="De La Kara|Des Plateaux|Des Savanes|Du Centre|Maritime",s_a[227]="Atafu|Fakaofo|Nukunonu",s_a[228]="Ha'apai|Tongatapu|Vava'u",s_a[229]="Arima|Caroni|Mayaro|Nariva|Port-of-Spain|Saint Andrew|Saint David|Saint George|Saint Patrick|San Fernando|Victoria",s_a[230]="Ariana|Beja|Ben Arous|Bizerte|El Kef|Gabes|Gafsa|Jendouba|Kairouan|Kasserine|Kebili|Mahdia|Medenine|Monastir|Nabeul|Sfax|Sidi Bou Zid|Siliana|Sousse|Tataouine|Tozeur|Tunis|Zaghouan",s_a[231]="Adana|Adiyaman|Afyon|Agri|Aksaray|Amasya|Ankara|Antalya|Ardahan|Artvin|Aydin|Balikesir|Bartin|Batman|Bayburt|Bilecik|Bingol|Bitlis|Bolu|Burdur|Bursa|Canakkale|Cankiri|Corum|Denizli|Diyarbakir|Duzce|Edirne|Elazig|Erzincan|Erzurum|Eskisehir|Gaziantep|Giresun|Gumushane|Hakkari|Hatay|Icel|Igdir|Isparta|Istanbul|Izmir|Kahramanmaras|Karabuk|Karaman|Kars|Kastamonu|Kayseri|Kilis|Kirikkale|Kirklareli|Kirsehir|Kocaeli|Konya|Kutahya|Malatya|Manisa|Mardin|Mugla|Mus|Nevsehir|Nigde|Ordu|Osmaniye|Rize|Sakarya|Samsun|Sanliurfa|Siirt|Sinop|Sirnak|Sivas|Tekirdag|Tokat|Trabzon|Tunceli|Usak|Van|Yalova|Yozgat|Zonguldak",s_a[232]="Ahal Welayaty|Balkan Welayaty|Dashhowuz Welayaty|Lebap Welayaty|Mary Welayaty",s_a[233]="Tuvalu",s_a[234]="Adjumani|Apac|Arua|Bugiri|Bundibugyo|Bushenyi|Busia|Gulu|Hoima|Iganga|Jinja|Kabale|Kabarole|Kalangala|Kampala|Kamuli|Kapchorwa|Kasese|Katakwi|Kibale|Kiboga|Kisoro|Kitgum|Kotido|Kumi|Lira|Luwero|Masaka|Masindi|Mbale|Mbarara|Moroto|Moyo|Mpigi|Mubende|Mukono|Nakasongola|Nebbi|Ntungamo|Pallisa|Rakai|Rukungiri|Sembabule|Soroti|Tororo",s_a[235]="Avtonomna Respublika Krym (Simferopol')|Cherkas'ka (Cherkasy)|Chernihivs'ka (Chernihiv)|Chernivets'ka (Chernivtsi)|Dnipropetrovs'ka (Dnipropetrovs'k)|Donets'ka (Donets'k)|Ivano-Frankivs'ka (Ivano-Frankivs'k)|Kharkivs'ka (Kharkiv)|Khersons'ka (Kherson)|Khmel'nyts'ka (Khmel'nyts'kyy)|Kirovohrads'ka (Kirovohrad)|Kyyiv|Kyyivs'ka (Kiev)|L'vivs'ka (L'viv)|Luhans'ka (Luhans'k)|Mykolayivs'ka (Mykolayiv)|Odes'ka (Odesa)|Poltavs'ka (Poltava)|Rivnens'ka (Rivne)|Sevastopol'|Sums'ka (Sumy)|Ternopil's'ka (Ternopil')|Vinnyts'ka (Vinnytsya)|Volyns'ka (Luts'k)|Zakarpats'ka (Uzhhorod)|Zaporiz'ka (Zaporizhzhya)|Zhytomyrs'ka (Zhytomyr)",s_a[236]="'Ajman|Abu Zaby (Abu Dhabi)|Al Fujayrah|Ash Shariqah (Sharjah)|Dubayy (Dubai)|Ra's al Khaymah|Umm al Qaywayn",s_a[237]="Barking and Dagenham|Barnet|Barnsley|Bath and North East Somerset|Bedfordshire|Bexley|Birmingham|Blackburn with Darwen|Blackpool|Bolton|Bournemouth|Bracknell Forest|Bradford|Brent|Brighton and Hove|Bromley|Buckinghamshire|Bury|Calderdale|Cambridgeshire|Camden|Cheshire|City of Bristol|City of Kingston upon Hull|City of London|Cornwall|Coventry|Croydon|Cumbria|Darlington|Derby|Derbyshire|Devon|Doncaster|Dorset|Dudley|Durham|Ealing|East Riding of Yorkshire|East Sussex|Enfield|Essex|Gateshead|Gloucestershire|Greenwich|Hackney|Halton|Hammersmith and Fulham|Hampshire|Haringey|Harrow|Hartlepool|Havering|Herefordshire|Hertfordshire|Hillingdon|Hounslow|Isle of Wight|Islington|Kensington and Chelsea|Kent|Kingston upon Thames|Kirklees|Knowsley|Lambeth|Lancashire|Leeds|Leicester|Leicestershire|Lewisham|Lincolnshire|Liverpool|Luton|Manchester|Medway|Merton|Middlesbrough|Milton Keynes|Newcastle upon Tyne|Newham|Norfolk|North East Lincolnshire|North Lincolnshire|North Somerset|North Tyneside|North Yorkshire|Northamptonshire|Northumberland|Nottingham|Nottinghamshire|Oldham|Oxfordshire|Peterborough|Plymouth|Poole|Portsmouth|Reading|Redbridge|Redcar and Cleveland|Richmond upon Thames|Rochdale|Rotherham|Rutland|Salford|Sandwell|Sefton|Sheffield|Shropshire|Slough|Solihull|Somerset|South Gloucestershire|South Tyneside|Southampton|Southend-on-Sea|Southwark|St. Helens|Staffordshire|Stockport|Stockton-on-Tees|Stoke-on-Trent|Suffolk|Sunderland|Surrey|Sutton|Swindon|Tameside|Telford and Wrekin|Thurrock|Torbay|Tower Hamlets|Trafford|Wakefield|Walsall|Waltham Forest|Wandsworth|Warrington|Warwickshire|West Berkshire|West Sussex|Westminster|Wigan|Wiltshire|Windsor and Maidenhead|Wirral|Wokingham|Wolverhampton|Worcestershire|York",s_a[238]="Artigas|Canelones|Cerro Largo|Colonia|Durazno|Flores|Florida|Lavalleja|Maldonado|Montevideo|Paysandu|Rio Negro|Rivera|Rocha|Salto|San Jose|Soriano|Tacuarembo|Treinta y Tres",s_a[239]="Alabama|Alaska|Arizona|Arkansas|California|Colorado|Connecticut|Delaware|District of Columbia|Florida|Georgia|Hawaii|Idaho|Illinois|Indiana|Iowa|Kansas|Kentucky|Louisiana|Maine|Maryland|Massachusetts|Michigan|Minnesota|Mississippi|Missouri|Montana|Nebraska|Nevada|New Hampshire|New Jersey|New Mexico|New York|North Carolina|North Dakota|Ohio|Oklahoma|Oregon|Pennsylvania|Rhode Island|South Carolina|South Dakota|Tennessee|Texas|Utah|Vermont|Virginia|Washington|West Virginia|Wisconsin|Wyoming",s_a[240]="Andijon Wiloyati|Bukhoro Wiloyati|Farghona Wiloyati|Jizzakh Wiloyati|Khorazm Wiloyati (Urganch)|Namangan Wiloyati|Nawoiy Wiloyati|Qashqadaryo Wiloyati (Qarshi)|Qoraqalpoghiston (Nukus)|Samarqand Wiloyati|Sirdaryo Wiloyati (Guliston)|Surkhondaryo Wiloyati (Termiz)|Toshkent Shahri|Toshkent Wiloyati",s_a[241]="Malampa|Penama|Sanma|Shefa|Tafea|Torba",s_a[242]="Amazonas|Anzoategui|Apure|Aragua|Barinas|Bolivar|Carabobo|Cojedes|Delta Amacuro|Dependencias Federales|Distrito Federal|Falcon|Guarico|Lara|Merida|Miranda|Monagas|Nueva Esparta|Portuguesa|Sucre|Tachira|Trujillo|Vargas|Yaracuy|Zulia",s_a[243]="An Giang|Ba Ria-Vung Tau|Bac Giang|Bac Kan|Bac Lieu|Bac Ninh|Ben Tre|Binh Dinh|Binh Duong|Binh Phuoc|Binh Thuan|Ca Mau|Can Tho|Cao Bang|Da Nang|Dac Lak|Dong Nai|Dong Thap|Gia Lai|Ha Giang|Ha Nam|Ha Noi|Ha Tay|Ha Tinh|Hai Duong|Hai Phong|Ho Chi Minh|Hoa Binh|Hung Yen|Khanh Hoa|Kien Giang|Kon Tum|Lai Chau|Lam Dong|Lang Son|Lao Cai|Long An|Nam Dinh|Nghe An|Ninh Binh|Ninh Thuan|Phu Tho|Phu Yen|Quang Binh|Quang Nam|Quang Ngai|Quang Ninh|Quang Tri|Soc Trang|Son La|Tay Ninh|Thai Binh|Thai Nguyen|Thanh Hoa|Thua Thien-Hue|Tien Giang|Tra Vinh|Tuyen Quang|Vinh Long|Vinh Phuc|Yen Bai",s_a[244]="Saint Croix|Saint John|Saint Thomas",s_a[245]="Blaenau Gwent|Bridgend|Caerphilly|Cardiff|Carmarthenshire|Ceredigion|Conwy|Denbighshire|Flintshire|Gwynedd|Isle of Anglesey|Merthyr Tydfil|Monmouthshire|Neath Port Talbot|Newport|Pembrokeshire|Powys|Rhondda Cynon Taff|Swansea|The Vale of Glamorgan|Torfaen|Wrexham",s_a[246]="Alo|Sigave|Wallis",s_a[247]="West Bank",s_a[248]="Western Sahara",s_a[249]="'Adan|'Ataq|Abyan|Al Bayda'|Al Hudaydah|Al Jawf|Al Mahrah|Al Mahwit|Dhamar|Hadhramawt|Hajjah|Ibb|Lahij|Ma'rib|Sa'dah|San'a'|Ta'izz",s_a[250]="Kosovo|Montenegro|Serbia|Vojvodina",s_a[251]="Central|Copperbelt|Eastern|Luapula|Lusaka|North-Western|Northern|Southern|Western",s_a[252]="Bulawayo|Harare|ManicalandMashonaland Central|Mashonaland East|Mashonaland West|Masvingo|Matabeleland North|Matabeleland South|Midlands",function(a){"use strict";a.widget("w.pagination",{options:{pageMin:"1",resetPageOnFilterChange:!0,ajaxData:{page:"1",size:"10"},typeToFilterDelay:500,successEventHandlers:function(){},onSuccess:function(b){var c=this,d=a(c.element);if(c.options.pageClass){var e=a(b).find("."+c.options.pageClass).filter(":first").html()||a(b).filter("."+c.options.pageClass).filter(":first").html();a("."+c.options.pageClass).each(function(){a(this).html(e),a(this).pagination("option","ajaxData",c.options.ajaxData),a(this).pagination("bindEvents")})}else d.html(a(b).find("#"+d.attr("id")).html()||a(b).filter("#"+d.attr("id")).html());c.options.container.html(a(b).find("#"+c.options.container.attr("id")).html()||a(b).filter("#"+c.options.container.attr("id")).html())},onError:function(a,b,c){console.log("jqXHR : "+a)},postSuccess:function(){}},_create:function(){var b=this;b.typeToFilterTimer={},b.options.container=b.options.container||a("#"+a(b.element).data("container")),b.options.url=b.options.url||a(b.element).data("href")||location.href},_init:function(){var b=this;b.bindEvents(),b.options.pageMax=a(b.element).find(".jump-to").data("max")||null,b._initialAjaxData()},_setOption:function(a,b){a},_initialAjaxData:function(){var b=this;a("."+b.options.filterClass).each(function(){a(this).is("[type=text], [type=number]")?b.options.ajaxData[a(this).data("filter")]=a(this).val():a(this).is("select")?b.options.ajaxData[a(this).data("filter")]=a(this).find("option:selected").val():a(this).is("[type=hidden]")?b.options.ajaxData[a(this).data("filter")]=a(this).val():a(this).hasClass("search-btn")?b.options.ajaxData[a(this).prev().data("filter")]=a(this).prev().val():a(this).hasClass("toggle")&&a(this).hasClass("active")?(console.log(["initialAjaxData for toggle",a(this),a(this).data("filter"),a(this).data("filter"),a("."+b.options.filterClass+'.toggle.active[data-filter="'+a(this).data("filter")+'"]').data("val")]),b.options.ajaxData[a(this).data("filter")]=a(this).data("val")):(console.log("Unaccounted for type"),console.log(a(this)))}),b.options.ajaxData.page=b._cleanPage(b.options.ajaxData.page)},_loadFilterPage:function(){var a=this;a.options.resetPageOnFilterChange&&(a.options.ajaxData.page=1),a.loadPage()},_cleanPage:function(b){var c=parseInt(this.options.pageMin),d=parseInt(this.options.pageMax);return b=parseInt(b),!a.isNumeric(b)||b<c?c:a.isNumeric(d)&&b>d?d:b},bindEvents:function(){var b=this,c=a(b.element);c.find(".pageroo").click(function(c){a(this).hasClass("disabled")?c.preventDefault():b.loadPage({page:a(this).data("page")})}),c.find(".jump-to").on({keyup:function(c){13===c.which&&b.loadPage({page:a(this).val()})},blur:function(c){b.loadPage({page:a(this).val()})}}),b.options.filterClass&&a("."+b.options.filterClass).each(function(){a(this).is("[type=text],[type=number]")&&(a(this).off("keypress.pagination"),a(this).on("keypress.pagination",function(a){13===a.which&&(clearTimeout(b.typeToFilterTimer),b._loadFilterPage())}),a(this).off("keyup.pagination"),a(this).on("keyup.pagination",function(c){a(this).hasClass("type-to-filter")&&13!==c.which&&(clearTimeout(b.typeToFilterTimer),b.typeToFilterTimer=setTimeout(function(){b._loadFilterPage()},b.options.typeToFilterDelay))}),a(this).hasClass("search-on-change")&&(a(this).off("change.pagination"),a(this).on("change.pagination",function(){b._loadFilterPage()}))),a(this).is("select")&&(a(this).off("change.pagination"),a(this).on("change.pagination",function(){b.options.ajaxData[a(this).data("filter")]=a(this).find("option:selected").val(),b._loadFilterPage()})),a(this).hasClass("search-btn")&&(a(this).off("click.pagination"),a(this).on("click.pagination",function(){b._loadFilterPage()})),a(this).hasClass("toggle")&&(a(this).off("click.pagination"),a(this).on("click.pagination",function(){a("."+b.options.filterClass+'.toggle.active[data-filter="'+a(this).data("filter")+'"]').removeClass("active"),b.options.ajaxData[a(this).data("filter")]=a(this).data("val"),a(this).addClass("active"),b._loadFilterPage()})),a(this).addClass(b.options.filterClass+"-activated")})},loadPage:function(b){var c=this;a("."+c.options.filterClass+"[type=text], ."+c.options.filterClass+"[type=number], ."+c.options.filterClass+".update-on-change[type=hidden]").each(function(){c.options.ajaxData[a(this).data("filter")]=a(this).val()}),c.options.ajaxData=a.extend(c.options.ajaxData,b),c.options.ajaxData.page=c._cleanPage(c.options.ajaxData.page),console.log(["Pagination load page called with options:",c.options]),void 0!==c.options.overrideLoadFunction?c.options.overrideLoadFunction.call(c,c.options):a.ajax({type:"GET",url:c.options.url,data:c.options.ajaxData,success:function(b){c.options.onSuccess.call(c,b),c.bindEvents(),c.options.pageMax=a(c.element).find(".jump-to").data("max")||null,c.options.successEventHandlers.call(c),c.options.postSuccess.call(c)},error:function(a,b,d){c.options.onError.call(c,a,b,d)}})},loadFilters:function(b){var c=this;return a("."+c.options.filterClass+"[type=text], ."+c.options.filterClass+"[type=number]").each(function(){c.options.ajaxData[a(this).data("filter")]=a(this).val()}),c.options.ajaxData=a.extend(c.options.ajaxData,b),c.options.ajaxData.page=c._cleanPage(c.options.ajaxData.page),c.options.ajaxData},getAjaxData:function(b){var c=this;return a("."+c.options.filterClass+"[type=text], ."+c.options.filterClass+"[type=number], ."+c.options.filterClass+".update-on-change[type=hidden]").each(function(){c.options.ajaxData[a(this).data("filter")]=a(this).val()}),c.options.ajaxData=a.extend(c.options.ajaxData,b),c.options.ajaxData.page=c._cleanPage(c.options.ajaxData.page),c.options.ajaxData}})}(jQuery),$(function(){$.widget("sci.print",{options:{pathToPrint:"about:blank",callback:void 0},_fa_icons:[{selector:".far.fa-square",html:'<svg height="14" width="14" class="svg-inline--fa fa-square fa-w-14" aria-hidden="true" focusable="false" data-prefix="far" data-icon="square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h340c3.3 0 6 2.7 6 6v340c0 3.3-2.7 6-6 6z"></path></svg>'},{selector:".far.fa-check-square",html:'<svg height="14" width="14" class="svg-inline--fa fa-check-square fa-w-14" aria-hidden="true" focusable="false" data-prefix="far" data-icon="check-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm0 400H48V80h352v352zm-35.864-241.724L191.547 361.48c-4.705 4.667-12.303 4.637-16.97-.068l-90.781-91.516c-4.667-4.705-4.637-12.303.069-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l59.792 60.277 141.352-140.216c4.705-4.667 12.303-4.637 16.97.068l22.536 22.718c4.667 4.706 4.637 12.304-.068 16.971z"></path></svg>'},{selector:".fas.fa-circle",html:'<svg height="14" width="14"  aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-circle fa-w-14"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z" class=""></path></svg>'},{selector:".far.fa-circle",html:'<svg height="14" width="14" aria-hidden="true" focusable="false" data-prefix="far" data-icon="circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-circle fa-w-14"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z" class=""></path></svg>'}],_init:function(){var a=this,b=(a.options,this.element);b.processing({type:"text"}),a.createIframe(),b.processing()},createIframe:function(){var a=this,b=a.options,c=this.element,d=$("<iframe>");d.hide(),d.prop("id","printFrame").prop("src",b.pathToPrint),c.append(d),window.iframeDoc=$("#printFrame").contents(),window.iframeWin=document.getElementById("printFrame").contentWindow,window.printIframe=$("#printFrame"),$.when($.get("/css/style.css"),$.get("https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css")).then(function(a,c){var d=window.iframeDoc;$(d).find("head").append("<style>"+a[0]+"</style>").append("<style>"+c[0]+"</style>").end(),b.callback&&b.callback()})},printIframe:function(){var a=this,b=(a.options,this.element);window.iframeDoc&&window.iframeWin&&window.iframeWin.print(),$("#printFrame").remove(),b.processing("hideProcessing")},_create:function(){var a=this;a.options,this.element},filteredHtml:function(a){var b=this,c=a.clone(),d=$(".dnp",c).remove().end().find(".vpo").removeClass("vpo").end();return $.each(b._fa_icons,function(a,b){d.find(b.selector).replaceWith(b.html)}),$.trim(d.html())}})}),$(function(){$.widget("sci.processing",{options:{},_init:function(){var a=this;a.options,this.element},_create:function(){var a=this;a.options,this.element;a._addClass("processing-element"),a.bindEvents(),a.showProcessing()},_destroy:function(){var a=this,b=(a.options,this.element);a._removeClass("processing-element"),b.find(".processing-mask").remove(),a._super()},bindEvents:function(){var a=this;a.options,this.element},_createProcessingMarkup:function(){var a=this,b=a.options,c=(a.element,b.type||""),d='<div style="position: absolute; height: 100%; justify-content: center; align-items: center; display: grid; background-color: rgba(5, 5, 5, .6); width: 100%; z-index: 24;" class="pull-right processing-mask">';d+='<div style="display: inline;">';var e=b.title||"",f=b.text||"Processing: Please wait...";switch(c){case"graphic":d+='<div class="col-sm-6">',d+='<img style="filter: drop-shadow(2px 4px 6px black); width: 65%;" class="pull-right processing-branding" src="/resources/img/logos/logo.svg"/>',d+="</div>",d+='<div style="" class="col-sm-6">',d+='<h3 style="color: #fff; margin-bottom: 0;">'+e+"</h3>",d+='<span style="color: #fff;">'+f+"</span>",d+="</div>",d+='<div style="margin: 6px; padding: 0;" class="spinner">',d+='<div style="background-color: #fff; margin-right: 10%;" class="rect2"></div>',d+='<div style="background-color: #fff; margin-right: 10%;" class="rect3"></div>',d+='<div style="background-color: #fff; margin-right: 10%;" class="rect4"></div>',d+='<div style="background-color: #fff; margin-right: 10%;" class="rect5"></div>',d+="</div>";break;case"text":default:d+='<div style="text-align: center;">',d+='<h3 style="color: #fff; margin-bottom: 0;">'+e+"</h3>",d+='<span style="color: #fff;">'+f+"</span>",d+="</div>",d+='<div style="display: block; margin: auto; padding: 0;" class="spinner">',d+='<div style="background-color: #fff; margin-right: 10%;" class="rect2"></div>',d+='<div style="background-color: #fff; margin-right: 10%;" class="rect3"></div>',d+='<div style="background-color: #fff; margin-right: 10%;" class="rect4"></div>',d+='<div style="background-color: #fff; margin-right: 10%;" class="rect5"></div>',d+="</div>"}return d+="</div>",d+="</div>"},showProcessing:function(){var a=this,b=(a.options,this.element),c=a._createProcessingMarkup();b.prepend(c)},hideProcessing:function(){var a=this;a.options,this.element;a.destroy()}})}),function(a){a.widget("dwf.timeSelect",{options:{timeClass:"time-range",timer:{timeFormat:"h:mm p",dynamic:!1,forceRoundTime:!1,zindex:100,interval:15},range:15},_create:function(){this.initializeTimer()},initializeTimer:function(){var b=this,c=b.options.timer;void 0!==b.options.minTime&&(c.minTime=b.options.minTime),void 0!==b.options.maxTime&&(c.maxTime=b.options.maxTime),a(b.element).timepicker(a.extend(c,{defaultTime:a(b.element).data("val")||""}))},updateRange:function(a,b){var c=this,d=Number(a.match(/^(\d+)/)[1]),e=Number(a.match(/:(\d+)/)[1]),f=a.match(/\s(.*)$/)[1];for("PM"===f&&d<12&&(d+=12),"AM"===f&&12==d&&(d-=12),"add"===b?e+=c.options.range:"subtract"===b&&(e-=c.options.range);e>60;)d++,e-=60;for(;e<0;)d--,e+=60;for(;d>24;)d-=24;for(;d<0;)d+=24;var g=d.toString(),h=e.toString();return d<10&&(g="0"+g),e<10&&(h="0"+h),g+":"+h},getHour:function(){var b=a(this.element).val(),c=Number(b.match(/^(\d+)/)[1]),d=b.match(/\s(.*)$/)[1];return"PM"===d&&c<12&&(c+=12),"AM"===d&&12==c&&(c-=12),c},getMinutes:function(){var b=a(this.element).val();return Number(b.match(/:(\d+)/)[1])},getIsoTime:function(){var b=a(this.element).val();if(Utils.isEmpty(b))return"";var c=Number(b.match(/^(\d+)/)[1]),d=b.match(/\s(.*)$/)[1];"PM"===d&&c<12&&(c+=12),"AM"===d&&12==c&&(c-=12);var e=Number(b.match(/:(\d+)/)[1]);return c<10&&(c="0"+c),e<10&&(e="0"+e),c+":"+e+":00"}})}(jQuery);var _afterSchoolProgramController={getAfterSchoolPrograms:function(a){return $.get("/afterschoolprograms.json",a)},saveAfterSchoolProgram:function(a){return $.ajax("/afterschoolprogram.json",{type:"POST",data:JSON.stringify(a),dataType:"json",contentType:"application/json"})},getEmployeeAfterSchoolPrograms:function(){return $.getJSON("/employee/afterschoolprograms")},setActiveProgramId:function(a){return $.ajax("/employee/afterschoolprogram/"+a+"/activate",{type:"POST",dataType:"json",contentType:"application/json"})}},_billingController={getBillingPlans:function(a){return $.getJSON("/billing/plans",a)},getBillingPlanModels:function(){return $.getJSON("/billing/model/plans")},getBillingPlan:function(a){return $.getJSON("/billing/plan/"+a)},saveBillingPlan:function(a){return a.percentage=parseInt(a.percentage),isNaN(a.percentage)&&delete a.percentage,$.ajax("/billing/plan",{type:"POST",data:JSON.stringify(a),dataType:"json",contentType:"application/json"})},deleteBillingPlan:function(a){return $.ajax("/delete/billing/plan/"+a,{type:"DELETE"})},saveBillingRecord:function(a){return $.ajax("/billing/record",{type:"POST",data:JSON.stringify(a),dataType:"json",contentType:"application/json"})},getWeeklyBillingReport:function(a){return console.log(["getWeeklyBillingReport",a]),$.getJSON("/program/weekly/deposit/report",a)},getWeeklySummaryBillingReport:function(a){return $.getJSON("/program/weekly/deposit/summary/report",a)}},_checkinController={getActiveStudents:function(a,b){return $.getJSON("/checkin/active/students",$.extend({search:a},b))},getActiveStudentCounts:function(){return $.getJSON("/checkin/active/students/count")},checkinStudent:function(a,b){return $.post("/checkin/student/"+a,{override:b||!1}).done(function(a){$(document).trigger("checkin",[a])})},checkoutStudent:function(a){return $.post("/checkout/student/"+a).done(function(a){void 0!==a.checkinLogs?$.each(a.checkinLogs,function(a,b){$(document).trigger("checkout",[b])}):console.log(["checkoutResponse",a])})},deleteActiveCheckin:function(a){return $.post("/active/student/"+a+"/checkin/delete")},guardianCheckout:function(a){return $.ajax("/checkout/guardian",{type:"POST",data:JSON.stringify(a),dataType:"json",contentType:"application/json"}).done(function(a){void 0!==a.checkinLogs?$.each(a.checkinLogs,function(a,b){$(document).trigger("checkout",[b])}):console.log(["checkoutResponse",a])})},getStudentCheckinLedger:function(a){return $.get("/student/checkin/log/ledger",a)},getAfterschoolProgramCheckinLedger:function(a){return $.get("/program/checkin/log/ledger",a)}},_checkinLogController={getCheckinLog:function(a,b,c){return $.getJSON("/checkin/daily/log",$.extend({search:a,date:b.format("DD.MM.YYYY")},c))},fetchUniqueStudentCheckinCount:function(a){return $.getJSON("/checkin/daily/log/unique/count",{date:a.format("DD.MM.YYYY")})},clearCheckinLog:function(a){return $.post("/checkin/daily/log/clear",{date:a.format("DD.MM.YYYY")})},clearSingleCheckinLog:function(a){return $.post("/checkin/daily/log/"+a+"/clear")},updateCheckinLog:function(a){return $.post("/checkin/daily/log/update",a)},fetchManualCheckinLog:function(a){return $.getJSON("/checkin/manual/log/"+a)},postManualCheckinLog:function(a){return $.ajax("/checkin/manual/log",{type:"POST",data:JSON.stringify(a),dataType:"json",contentType:"application/json"})}},_studentBillingController={getStudentBilling:function(a){return $.getJSON("/student/"+a)},getStudents:function(a,b){return $.getJSON("/students",$.extend({search:a},b))},saveStudent:function(a){return $.ajax("/student.json",{type:"POST",data:JSON.stringify(a),dataType:"json",contentType:"application/json"})},getBillingWeekOptionModels:function(){return $.getJSON("/billing/model/weeks")},getStudentBillingWeekOk:function(a,b){return $.getJSON("/student/billing/week/of",$.extend({date:a.format("DD.MM.YYYY")},b))},getStudentBillingWeekOfEntry:function(a,b){return $.getJSON("/student/billing/week/of/entry",{date:a.format("DD.MM.YYYY"),studentId:b})}},_studentController={getStudent:function(a){return $.getJSON("/student/"+a)},getStudents:function(a,b){return $.getJSON("/students",$.extend({search:a},b))},saveStudent:function(a){return $.ajax("/student.json",{type:"POST",data:JSON.stringify(a),dataType:"json",contentType:"application/json"})},deleteStudent:function(a){return $.ajax("/delete/student/"+a,{type:"DELETE"})}},_studentLedgerController={getFamilyBillingLedger:function(a){return $.get("/family/billing/ledger",a)},getFamilyBillingLedgerTotals:function(a){return $.get("/family/billing/ledger/totals",a)},updateBillingLedger:function(a,b){return $.ajax("/billing/transaction/"+a,{type:"POST",data:JSON.stringify(b),dataType:"json",contentType:"application/json"})},deleteBillingLedger:function(a){return $.ajaxDelete("/billing/transaction/"+a)}};!function(a,b){function c(a,b,c){setActiveContainer(a),c=c||getPageObj(),_checkinController.getActiveStudents(b,c).done(function(b){j(a,x(b))})}function d(a,b){_checkinController.getActiveStudents(a,b).done(function(a){h(x(a))})}function e(a,c,d){d=d||1,console.log(["checkInStudent studentId",a,d]);var f=b(".active-program-ref").data("id"),g={checkinDate:moment().format("YYYY-MM-DD"),checkinTime:moment().format("hh:mm a"),studentId:a},h=!1;try{_checkinLocalStorage.setProcessingCheckin(f,a,g),b("#checkin-student-id").val(""),b("#checkin-student-id").focus(),h=!0}catch(a){h=!1}_checkinController.checkinStudent(a,c).done(function(c){c.student.checkInTime=c.checkInTime,k(y(c.student)),h||(b("#checkin-student-id").val(""),b("#checkin-student-id").focus()),z(),_checkinLocalStorage.removeCheckin(f,a)}).fail(function(b,h,i){var j=!0;switch(b.status){case 409:m(a),j=!1}if(j&&d<3)d++,e(a,c,d);else{try{_checkinLocalStorage.setAwaitingCheckin(f,a,g)}catch(a){}console.log(["failure",b,h,i]);var k="Failed to checkin student: "+h+" : "+i;toastr.error(k,{timeOut:"5000"})}})}function f(a){_checkinController.guardianCheckout(a).done(function(a){void 0!==a.checkinLogs&&null!==a.checkinLogs&&(b.each(a.checkinLogs,function(a,c){b(".active-student-row[data-id="+c.student.studentId+"]").remove()}),b("#checkout-student-id").val(""),z(),b("#checkout-student-id").focus(),console.log(["parent info",a])),b("#guardianCheckoutModal").modal("hide")})}function g(a){("string"==typeof a||a instanceof String)&&(a=a.trim()),_checkinController.checkoutStudent(a).done(function(c){console.log(["checkOutStudent checkoutResponse ",c]),c.studentCheckedOut?(b(".active-student-row[data-id="+a+"]").remove(),b("#checkout-student-id").val(""),z(),b("#checkout-student-id").focus()):void 0!==c.checkinLogs&&null!==c.checkinLogs?(b.each(c.checkinLogs,function(a,c){b(".active-student-row[data-id="+c.student.studentId+"]").remove()}),b("#checkout-student-id").val(""),z(),b("#checkout-student-id").focus(),console.log(["parent info",c])):(console.log(["parent info else",c]),void 0!==c.activeCheckins&&null!==c.activeCheckins&&c.activeCheckins.length>0&&(c.hasActiveCheckins=!0,b.each(c.activeCheckins,function(a,b){void 0!==b.checkInTime&&(b.formattedCheckInTime=timeFormatter.formatDate({date:b.checkInTime,pattern:"h:mma",timezone:"America/New_York"}),c.defaultCheckInTime=b.formattedCheckInTime)})),void 0!==c.inactiveStudents&&null!==c.inactiveStudents&&c.inactiveStudents.length>0&&(c.hasInactiveCheckins=!0),c.hasActiveCheckins||c.hasInactiveCheckins?n(c):(b("#checkout-student-id").val(""),z(),b("#checkout-student-id").focus()))}).fail(function(){b("#checkout-student-id").val(""),b("#checkout-student-id").focus()})}function h(a){A.render("tempStudentRowWrap",b("#active-table").find("tbody"),a,["tempStudentRow"]).done(function(){l(a.page),w(),s(),t(),u()})}function i(){var a=b(".active-program-ref").data("id"),c=_checkinLocalStorage.getAwaitingCheckinsList(a);c.length?(A.render("tempAwaitingCheckins",b("#awaiting-checkin-wrap").find(".card-body"),{awaitingCheckins:c}),b("#awaiting-checkin-wrap").show()):(b("#awaiting-checkin-wrap").find(".card-body").html(""),b("#awaiting-checkin-wrap").hide()),v()}function j(a,c){A.render("tempActiveStudentsTable",a,c,["tempStudentRow"]).done(function(){l(c.page),o(),b("#checkin-student-id").focus()})}function k(a){A.getRenderedString("tempStudentRow",a).done(function(a){b("#active-table").find("tbody").prepend(a),w(),s(),t(),u()})}function l(c){return a.getComponent("Pagination").getFn("loadPagination",["tempChevronSpans",b("#students-pagination"),c]).done(function(a,b){a.pagination({overrideLoadFunction:function(a){d(a.search,a.ajaxData)},filterClass:"student-filter",ajaxData:b})})}function m(a){A.getRenderedString("tempInactiveStudentWarningModal",a).done(function(c){b("#modal-wrapper").html(c),b("#inactiveStudentWarningModal").modal("show"),b("#modal-wrapper").find(".bs-toggle").bootstrapToggle(),b("#override-checkin-btn").off("click").on("click",function(){e(a,!0),b("#inactiveStudentWarningModal").modal("hide")}),b("#inactiveStudentWarningModal").on("hidden.bs.modal",function(){b("#checkin-student-id").focus()})})}function n(a){A.getRenderedString("tempGuardianCheckoutModal",a).done(function(c){b("#modal-wrapper").html(c),b("#guardianCheckoutModal").modal("show"),b("#modal-wrapper").find(".bs-toggle").bootstrapToggle(),b("#guardianCheckoutModal").find(".time-range").each(function(){b(this).inputmask("datetime",{inputFormat:"hh:MM TT",outputFormat:"HH:MM:ss"})}),b("#modal-checkout-btn").off("click").on("click",function(){console.log(["clicked"]);var c=b("#guardianCheckoutModal").find("form"),d={activeCheckoutIds:[],inactiveCheckouts:[],parentId:a.id};c.find(".activeStudentCheckout:checkbox:checked").each(function(){d.activeCheckoutIds.push(b(this).val())}),c.find(".inactiveStudentCheckout:checkbox:checked").each(function(){d.inactiveCheckouts.push({studentId:b(this).val(),checkinTime:b(this).closest("tr").find(".checkin-time").val()})}),f(d)}),b("#guardianCheckoutModal").on("hidden.bs.modal",function(){b("#checkout-student-id").focus()})})}function o(){p(),q(),r()}function p(){b(".scanner-mode").click(function(){b(this).hasClass("btn-blue")||(b(".scanner-mode").toggleClass("btn-blue btn-default"),b(".checkin-form").toggleClass("d-none"),"checkout"===b(this).data("mode")?b("#checkout-student-id").focus():"checkin"===b(this).data("mode")&&b("#checkin-student-id").focus())})}function q(){b("#checkin-student-id").scannerDetection({minLength:5,onComplete:function(){e(b("#checkin-student-id").val())}}),b("#checkin-student-btn").off("click").on("click",function(){e(b("#checkin-student-id").val())})}function r(){b("#checkout-student-id").scannerDetection({minLength:5,onComplete:function(){g(b("#checkout-student-id").val())}}),b("#checkout-student-btn").off("click").on("click",function(){g(b("#checkout-student-id").val())}),w(),s(),t(),u()}function s(){b(".user-edit").off("click").on("click",function(){console.log(["bindEditStudent"]),App.getComponent("AddStudent").getFn("loadEditStudent",[b("#student-edit-container"),b(this).data("id"),"main-content"])}),console.log(["binding remove active checkin"]),b(".remove-active-checking").off("click").on("click",function(){var a=b(this).data("id");_checkinController.deleteActiveCheckin(a).always(function(){console.log(["always after the deleteActiveCheckin",a]),b(".active-student-row[data-id="+a+"]").remove()})})}function t(){a.getComponent("StudentLedger").getFn("bindStudentLedgerModal")}function u(){a.getComponent("CheckinLog").getFn("bindCheckinLedgerModal")}function v(){b("#show-awaiting-uploads").off("click").on("click",function(){b("#awaiting-checkin-wrap").find(".card-body").show(),b("#show-awaiting-uploads").hide(),b("#hide-awaiting-uploads").show()}),b("#hide-awaiting-uploads").off("click").on("click",function(){b("#awaiting-checkin-wrap").find(".card-body").hide(),b("#show-awaiting-uploads").show(),b("#hide-awaiting-uploads").hide()})}function w(){b(".student-row-checkout").off("click").on("click",function(){g(b(this).data("id"))})}function x(a){var c={activeCheckins:a.content,page:getPageObj(a)};return void 0!==c.activeCheckins&&c.activeCheckins.forEach(function(a){y(a)}),c.pageSizeOptions=[],b.each([10,25,50,100,500],function(a,b){c.pageSizeOptions.push({val:b,name:b,selected:c.page.size===b?"selected":""})}),c.studentSortOptions=[],b.each(C,function(a,b){c.studentSortOptions.push({val:b.value,name:b.name,selected:c.studentSort===b.value?"selected":""})}),c}function y(a){return console.log(["formatStudent",a]),void 0!==a.checkInTime&&(a.formattedCheckInTime=timeFormatter.formatDate({date:a.checkInTime,pattern:"h:mma",timezone:"America/New_York"})),void 0!==a.student&&void 0!==a.student.guardians&&(a.authorizedCheckouts=[],b.each(a.student.guardians,function(b,c){a.authorizedCheckouts.push(c.firstName)}),a.formattedCheckoutNames=a.authorizedCheckouts.join(", ")),a}function z(){if(void 0!==B&&clearInterval(B),_checkinController.getActiveStudentCounts().done(function(a){b(".active-user-header-count").find("span").html(a.activeUserCount),b(".active-header-count").find("span").html(a.activeProgramCount)}),b("#students-pagination").length)try{console.log(["active student controller loadPage 109"]),b("#students-pagination").pagination("loadPage")}catch(a){}i(),B=setInterval(z,1e4)}var A,B,C=[{name:"Grade 0 -> 12",value:"GradeAsc"},{name:"Grade 12 -> 0",value:"GradeDesc"},{name:"Last Name A -> Z",value:"LastNameAsc"},{name:"Last Name Z -> A",value:"LastNameDesc"},{name:"School A -> Z",value:"SchoolAsc"},{name:"School Z -> A",value:"SchoolDesc"}],D={loadActiveStudents:c,activeStudentPoll:z,checkInStudent:e,checkOutStudent:g};A=App.addComponent("ActiveStudents","/students/active-students",D)}(App,jQuery),function(a,b){function c(a){setActiveContainer(a),_billingController.getBillingPlanModels().done(function(c){console.log(["billingPlans",c]);var d={};d.bilingPlanOptions=[],void 0!==c&&b.each(c,function(a,b){d.bilingPlanOptions.push({value:b.id,label:b.billingPlanName+(b.defaultRate?" (default)":""),selected:n(d.billingPlanId,b)})}),g(a,d)})}function d(a,c,d){setActiveContainer(a),console.log(["loadEditStudent",c]),b.when(_studentController.getStudent(c),_billingController.getBillingPlanModels()).done(function(b,c){var e=b[0],f=c[0];g(a,m(e,f),d)})}function e(){s.getRenderedString("tempGuardianForm",o({}),["tempContactForm"]).done(function(a){b(".parent-wrap").append(a),k()})}function f(a){s.getRenderedString("tempContactForm",p({})).done(function(b){a.append(b)})}function g(a,c,d){c=c||{},c=formatForm(c),void 0!==d&&(c.showBack=!0),s.render("tempNewStudentForm",a,c,["tempGuardianForm","tempContactForm"]).done(function(){l(),b("#edit-student-back").off("click").on("click",function(){setActiveContainer(b("#"+d)),a.empty()})})}function h(a){var b=a.firstName+" "+a.lastName+" successfully saved.";toastr.info(b,{timeOut:"5000"})}function i(a){var b=a.firstName+" "+a.lastName+" successfully deleted.";toastr.error(b,{timeOut:"5000"})}function j(){}function k(){b(".delete-guardian").off("click").on("click",function(){b(this).closest(".guardian-form-wrap").remove()}),b(".add-guardian-contact").off("click").on("click",function(){f(b(this).closest(".guardian-form-wrap").find(".guardian-contact-wrap"))}),j()}function l(){b("#submit-student").off("click").on("click",function(){var a=q();console.log(["bindEditStudent",a]),_studentController.saveStudent(a).done(function(a){h(a)})}),b("#delete-student").off("click").on("click",function(){var a=q(),c=b(this).data("id");console.log(["delete student",c]),s.getRenderedString("tempDeleteStudentWarningModal",{}).done(function(d){b("#modal-wrapper").html(d),b("#deleteStudentWarningModal").modal("show"),b("#confirm-delete-student-btn").off("click").on("click",function(){_studentController.deleteStudent(c).done(function(){i(a),b("#deleteStudentWarningModal").modal("hide")})})})}),b("#add-parent").off("click").on("click",function(){e()}),k()}function m(a,c){return a=a||{},a.bilingPlanOptions=[],a.showDelete=void 0!==a.id,a=formatForm(a),void 0!==a.guardians&&b.each(a.guardians,function(a,b){o(b)}),void 0!==c&&b.each(c,function(b,c){a.bilingPlanOptions.push({value:c.id,label:c.billingPlanName+(c.defaultRate?" (default)":""),selected:n(a.billingPlanId,c)})}),a.defaultBillingTypes=[{value:"",label:"Not Set"}],b.each(t,function(b,c){a.defaultBillingTypes.push({value:c.value,label:c.name,selected:c.value===a.defaultWeeklyBillingType?"selected":""})}),a.statusTypes=[],b.each(u,function(b,c){a.statusTypes.push({value:c.value,label:c.name,selected:c.value===a.active?"selected":""})}),a.photoOptions=[],b.each(v,function(b,c){a.photoOptions.push({value:c.value,label:c.name,selected:c.value===a.noPhoto?"selected":""})}),a.idCardOptions=[],b.each(w,function(b,c){a.idCardOptions.push({value:c.value,label:c.name,selected:c.value===a.requiresIdCard?"selected":""})}),console.log(["formatStudent",a]),a}function n(a,b){return console.log(["isBillingPlanSelected",a,b]),null!==a?b.id===a?"selected":"":b.defaultRate?"selected":""}function o(a){return console.log(["formatParent",a]),a=a||{},a=formatForm(a),a.relationshipTypes=[],b.each(["Mother","Father","Guardian","Grandmother","Grandfather"],function(b,c){a.relationshipTypes.push({value:c,label:c,selected:c===a.relationship?"selected":""})}),void 0!==a.contacts&&b.each(a.contacts,function(a,b){p(b)}),a}function p(a){return a=a||{},a=formatForm(a),a.contactTypes=[],b.each(["Phone","Email"],function(b,c){a.contactTypes.push({value:c,label:c,selected:c===a.contactType?"selected":""})}),a}function q(){var a=b("#new-student-form").serializeJSON(serializeJSON_Defaults);return a.guardians=[],b("form.guardian-form").each(function(){a.guardians.push(r(b(this)))}),a}function r(a){var c=a.serializeJSON(serializeJSON_Defaults);return c.contacts=[],a.closest(".guardian-form-wrap").find("form.contact-form").each(function(){c.contacts.push(b(this).serializeJSON(serializeJSON_Defaults))}),c}var s,t=[{name:"One Day",value:"DAILY_RATE"},{name:"Two To Three Days",value:"TWO_TO_THREE_DAYS"},{name:"Four To Five Days",value:"FOUR_TO_FIVE_DAYS"},{name:"Before + After Four To Five",value:"FOUR_TO_FIVE_DAYS_BEFORE_AND_AFTER"},{name:"Before + After Two To Three",value:"TWO_TO_THREE_DAYS_BEFORE_AND_AFTER"},{name:"Morning Only",value:"MORNING"},{name:"Two Day",value:"TWO_DAY"},{name:"Three Day",value:"THREE_DAY"},{name:"Four Day",value:"FOUR_DAY"},{name:"Five Day",value:"FIVE_DAY"}],u=[{name:"Active",value:!0},{name:"Inactive",value:!1}],v=[{name:"Allow Photos",value:!1},{name:"No Photos",value:!0}],w=[{name:"ID Card Printed ",value:!1},{name:"Requires ID Card",value:!0}],x={loadAddStudent:c,loadEditStudent:d};s=App.addComponent("AddStudent","/students/add-student",x)}(App,jQuery),function(a,b){function c(a){setActiveContainer(a),_afterSchoolProgramController.getAfterSchoolPrograms().done(function(b){f(a,j(b))})}function d(){i()}function e(){_afterSchoolProgramController.getEmployeeAfterSchoolPrograms().done(function(a){g(k(a))})}function f(a,b){o.render("tempAfterSchoolProgramsWrap",a,b,["tempAfterSchoolProgram"]).done(function(){l()})}function g(a){o.render("tempEmployeeProgramDropDown",b("#active-program-dropdown"),a).done(function(){n()})}function h(a){o.getRenderedString("tempAfterSchoolProgram",a).done(function(a){b("#after-school-program-wrap").find("ul").append(a)})}function i(){o.render("tempAfterSchoolProgramForm",b("#add-after-school-program-wrap"),{}).done(function(){m()})}function j(a){return{afterSchoolPrograms:a.content,page:getPageObj(a)}}function k(a){var c={programs:a};return a.length>1&&(c.hasMultiple=!0),b.each(a,function(a,b){if(b.isActive)return c.activeProgram=b,!1}),c}function l(){b(".add-after-school-program").off("click.AfterSchoolProgram").on("click.AfterSchoolProgram",function(){d(),b(".add-after-school-program").hide()})}function m(){b("#submit-after-school-program").off("click.AfterSchoolProgram").on("click.AfterSchoolProgram",function(){var a=b("#after-school-program-form").serializeJSON(serializeJSON_Defaults);_afterSchoolProgramController.saveAfterSchoolProgram(a).done(function(a){h(a),b("#add-after-school-program-wrap").empty(),b(".add-after-school-program").show()})})}function n(){b(".active-program:not(.active)").off("click.AfterSchoolProgram").on("click.AfterSchoolProgram",function(){_afterSchoolProgramController.setActiveProgramId(b(this).data("id")).done(function(a){location.reload()})})}var o,p={loadAfterSchoolPrograms:c,loadActiveEmployeeProgramDropDown:e};o=App.addComponent("AfterSchoolProgram","/program/after-school-program",p)}(App,jQuery),function(a,b){function c(a,b){setActiveContainer(a),b=b||{},b.startDate=moment().startOf("month").format("DD.MM.YYYY"),b.endDate=moment().endOf("month").format("DD.MM.YYYY"),_checkinController.getAfterschoolProgramCheckinLedger(b).done(function(c){console.log(["attendaceSummary",c]);var d=h(c,b);e(a,b,d)})}function d(a){_checkinController.getAfterschoolProgramCheckinLedger(a).done(function(c){console.log(["attendaceSummary",c]);var d=h(c,a);f(a,d),b("#active-filter-row").html(d.activeFilter),b("#attendance-summary-range").html(d.attendanceRange)})}function e(a,c,d){o.render("tempProgramAttendanceSummary",a,d,["tempStudentAttendanceTable","tempStudentAttendanceRow"]).done(function(){b(".checkin-ledger-date").datepicker({dateFormat:"mm/dd/yy"}),n(),g(c)})}function f(a,c){o.render("tempStudentAttendanceTable",b("#attendance-summary-table"),c,["tempStudentAttendanceRow"]).done(function(){g(a)})}function g(c){return a.getComponent("Pagination").getFn("loadPagination",["tempChevronSpans",b("#attendance-summary-pagination"),c]).done(function(a,c){a.pagination({overrideLoadFunction:function(a){c=b.extend(c,a.ajaxData),console.log(["overrideLoadFunction",a,c]),void 0!==c.startDate&&""!==c.startDate&&(_startMoment=moment(c.startDate,"MM/DD/YYYY"),c.startDate=_startMoment.format("DD.MM.YYYY")),void 0!==c.endDate&&""!==c.endDate&&(_endMoment=moment(c.endDate,"MM/DD/YYYY"),c.endDate=_endMoment.format("DD.MM.YYYY")),d(c)},filterClass:"attendance-summary-checkin-log-filter",ajaxData:c})})}function h(a,c){c=c||{};var d=moment(c.startDate,"DD.MM.YYYY"),e=moment(c.endDate,"DD.MM.YYYY"),f={program:i(a.program),headerColumns:m(d,e),totalChildrenCount:a.students.length,halfDayCount:0,fullDayCount:0,students:[],activeFilter:""};return f.attendanceRange=d.format("dddd, MMMM Do YYYY")+" to "+e.format("dddd, MMMM Do YYYY"),f.formattedStartDate=d.format("MM/DD/YYYY"),f.formattedEndDate=e.format("MM/DD/YYYY"),f.filterOptions=[],b.each(p,function(a,b){f.filterOptions.push({val:b.value,name:b.name,selected:c.filter===b.value?"selected":""}),void 0!==c.filter&&"ALL"!==c.filter&&c.filter===b.value&&(f.activeFilter=b.name)}),b.each(a.students,function(a,b){f.students.push(j(f,b,d,e))}),f}function i(a){var b={};return void 0!==a.programFullName?b.programFullName=a.programFullName:b.programFullName=a.programName,void 0!==a.address&&(b.street=a.address.street,b.address=a.address.city+", "+a.address.state+" "+a.address.zipcode),void 0!==a.phone&&(b.phone=a.phone.contactValue),void 0!==a.email&&(b.email=a.email.contactValue),b}function j(a,c,d,e){var f={childTitle:l(c),attendanceColumns:[],halfDayCount:0,fullDayCount:0},g={};b.each(c.checkinLogs,function(a,b){var c=timeFormatter.getMomentFullDate({date:b.checkInTime,timezone:"America/New_York"}),d=c.format("DD.MM.YYYY");void 0===g[d]&&(g[d]=[]),g[d].push(b)});var h=d.clone(),i=0;do{var j=h.format("DD.MM.YYYY");if(void 0!==g[j]){var m=k(g[j]);m.isFullDay&&(f.fullDayCount++,a.fullDayCount++,a.headerColumns[i].total++),m.isHalfDay&&(f.halfDayCount++,a.halfDayCount++,a.headerColumns[i].total++),f.attendanceColumns.push(m)}else f.attendanceColumns.push({didNotAttend:!0});h.add(1,"d"),i++}while(h.isSameOrBefore(e,"day"));return f}function k(a){var c=0,d={};return void 0!==a?(b.each(a,function(a,b){var d=timeFormatter.getMomentFullDate({date:b.checkInTime,timezone:"America/New_York"}),e=timeFormatter.getMomentFullDate({date:b.checkOutTime,timezone:"America/New_York"});c+=e.diff(d,"hours",!0)}),c>=6?d.isFullDay=!0:d.isHalfDay=!0):d.didNotAttend=!0,d}function l(a){console.log(["studentModel",a]);var b=a.student.lastName+", "+a.student.firstName;return void 0!==a.student.school&&(b+=" ("+a.student.school.name+")"),b}function m(a,b){var c=a.clone(),d=[];do{d.push({title:c.format("DD"),total:0}),c.add(1,"d")}while(c.isSameOrBefore(b,"day"));return d}function n(){b("#print-students").off("click").on("click",function(a){a.preventDefault();b(this);b("#print-students").print({pathToPrint:"about:blank"});var c=b("#print-students").print("filteredHtml",b("#attendance-summary-print-wrap"));b("#printFrame").contents().find("body").html(c),setTimeout(function(){b("#print-students").print("printIframe")},500)})}var o,p=[{name:"Show All",value:"ALL"},{name:"Morning",value:"MORNING"},{name:"Afterschool",value:"AFTERSCHOOL"},{name:"CCPS",value:"CCPS"},{name:"Scholarship",value:"SCHOLARSHIP"},{name:"ELC",value:"ELC"},{name:"Regular Rate",value:"DEFAULT_RATE"}],q={loadAttendanceSummary:c};o=App.addComponent("AttendanceSummary","/students/attendance-summary",q)}(App,jQuery),function(a,b){function c(a){setActiveContainer(a),h(a,k({}),"main-content")}function d(a,b,c){setActiveContainer(a),_billingController.getBillingPlan(b).done(function(b){h(a,k(b),c)})}function e(a,b){setActiveContainer(a),b=b||getPageObj(),_billingController.getBillingPlans(b).done(function(b){f(a,j(b))})}function f(a,d){o.render("tempBilling",a,d,["tempBillingPlanPage","tempBillingPlan"]).done(function(){l(),b(".add-new-billing-plan-btn").off("click").on("click",function(){c(b("#billing-plan-edit-container"))})})}function g(a){o.getRenderedString("tempBillingPlan",a).done(function(c){b(".billing-plan-container[data-id="+a.id+"]").length?b(".billing-plan-container[data-id="+a.id+"]").replaceWith(c):b("#billing-plans-container").append(c),l()})}function h(a,c,d){c=c||{},c=formatForm(c),void 0!==d&&(c.showBack=!0),void 0!==c.id&&(c.showDelete=!0),o.render("tempEditBillingPlan",a,c).done(function(){b("#billing-plan-form").find(".bs-toggle").bootstrapToggle(),m(a,c,d),b("#edit-billing-plan-back").off("click").on("click",function(){setActiveContainer(b("#"+d)),a.empty()})})}function i(a){var b="Billing Plan "+a.planName+" successfully saved.";toastr.info(b,{timeOut:"5000"})}function j(a){var c={billingPlans:a.content,page:getPageObj(a)};return b.each(c.billingPlans,function(a,b){k(b)}),c}function k(a){return a.specializedBillingPlanOptions=[],a.specializedBillingPlanOptions.push({value:"None",label:"None"}),b.each(p,function(b,c){a.specializedBillingPlanOptions.push({value:c.value,label:c.name,selected:c.value===a.specializedBillingPlan?"selected":""}),c.value===a.specializedBillingPlan&&(a.specializedBillingPlanName=c.name)}),a}function l(){b(".edit-billing-plan").off("click").on("click",function(){d(b("#billing-plan-edit-container"),b(this).data("id"),"main-content")})}function m(a,c,d){b("#submit-billing-plan").off("click").on("click",function(){var c=n();console.log(["bindEditBillingPlan",c]),_billingController.saveBillingPlan(c).done(function(c){c=k(c),i(c),g(c),setActiveContainer(b("#"+d)),a.empty()})}),b("#delete-billing-plan").off("click").on("click",function(){var c=b(this).data("id");_billingController.deleteBillingPlan(c).done(function(){b(".billing-plan-container[data-id="+c+"]").remove(),setActiveContainer(b("#"+d)),a.empty()})})}function n(){var a=b("#billing-plan-form").serializeJSON(serializeJSON_Defaults);return"None"===a.specializedBillingPlan&&delete a.specializedBillingPlan,a}var o,p=[{name:"Collier School District",value:"ColllierSchoolDistrict"},{name:"Sports Club",value:"SportsClub"},{name:"CCPS Rate",value:"CCPSRate"},{name:"ELC Weekly",value:"ELCWeekly"},{name:"Scholarship Weekly",value:"ScholarshipWeekly"}],q={loadBillingPlans:e,loadAddBillingPlan:c};o=App.addComponent("BillingPlans","/billing/billing-plans",q)}(App,jQuery),function(a,b){function c(a,b){setActiveContainer(a),b=b||{},b.startDate=moment().startOf("week").format("DD.MM.YYYY"),b.endDate=moment().endOf("week").format("DD.MM.YYYY"),console.log(["loadWeeklyDepositReport",b]),_billingController.getWeeklyBillingReport(b).done(function(c){console.log(["depositReport",c]);var d=m(c,b);g(a,b,d)})}function d(a){_billingController.getWeeklyBillingReport(a).done(function(c){console.log(["depositReport",c]);var d=m(c,a);h(a,d),b("#billing-report-summary-range").html(d.depositRange)})}function e(a,b){setActiveContainer(a),b=b||{},b.startDate=moment().startOf("week").format("DD.MM.YYYY"),b.endDate=moment().endOf("week").format("DD.MM.YYYY"),console.log(["loadWeeklySummaryDepositReport",b]),_billingController.getWeeklySummaryBillingReport(b).done(function(c){console.log(["depositReport 2",c]);var d=n(c,b);i(a,b,d)})}function f(a){_billingController.getWeeklySummaryBillingReport(a).done(function(c){console.log(["depositReport",c]);var d=n(c,a);j(a,d),b("#billing-report-summary-range").html(d.depositRange)})}function g(a,c,d){s.render("tempDepositReportSummary",a,d,["tempWeeklyDepositReportTables","tempWeeklyReportRow"]).done(function(){b(".billing-ledger-date").datepicker({dateFormat:"mm/dd/yy"}),q(),k(c)})}function h(a,c){s.render("tempWeeklyDepositReportTables",b("#billing-report-table-wrap"),c,["tempWeeklyReportRow"]).done(function(){k(a)})}function i(a,c,d){s.render("tempDepositSummaryReportSummary",a,d,["tempWeeklyDepositSummaryReportTables"]).done(function(){b(".billing-ledger-date").datepicker({dateFormat:"mm/dd/yy"}),r(),l(c)})}function j(a,c){s.render("tempWeeklyDepositSummaryReportTables",b("#billing-summary-report-table-wrap"),c).done(function(){l(a)})}function k(c){return a.getComponent("Pagination").getFn("loadPagination",["tempChevronSpans",b("#deposit-report-summary-pagination"),c]).done(function(a,c){a.pagination({overrideLoadFunction:function(a){c=b.extend(c,a.ajaxData),console.log(["overrideLoadFunction",a,c]),void 0!==c.startDate&&""!==c.startDate&&(_startMoment=moment(c.startDate,"MM/DD/YYYY"),c.startDate=_startMoment.format("DD.MM.YYYY")),void 0!==c.endDate&&""!==c.endDate&&(_endMoment=moment(c.endDate,"MM/DD/YYYY"),c.endDate=_endMoment.format("DD.MM.YYYY")),d(c)},filterClass:"deposit-report-summary-checkin-log-filter",ajaxData:c})})}function l(c){return a.getComponent("Pagination").getFn("loadPagination",["tempChevronSpans",b("#deposit-summary-report-summary-pagination"),c]).done(function(a,c){a.pagination({overrideLoadFunction:function(a){c=b.extend(c,a.ajaxData),console.log(["overrideLoadFunction",a,c]),void 0!==c.startDate&&""!==c.startDate&&(_startMoment=moment(c.startDate,"MM/DD/YYYY"),c.startDate=_startMoment.format("DD.MM.YYYY")),void 0!==c.endDate&&""!==c.endDate&&(_endMoment=moment(c.endDate,"MM/DD/YYYY"),c.endDate=_endMoment.format("DD.MM.YYYY")),f(c)},filterClass:"deposit-report-summary-checkin-log-filter",ajaxData:c})})}function m(a,c){c=c||{};var d=moment(c.startDate,"DD.MM.YYYY"),e=moment(c.endDate,"DD.MM.YYYY"),f={program:p(a.program),achTotals:thousandsSeparators(a.achTotals.toFixed(2)),achCount:a.achCount,creditcardTotals:thousandsSeparators(a.creditcardTotals.toFixed(2)),creditcardCount:a.creditcardCount,checkTotals:thousandsSeparators(a.checkTotals.toFixed(2)),checkCount:a.checkCount,achPayments:[],creditcardPayments:[],checkPayments:[],activeFilter:"",hasAchTrx:a.achCount>0,hasCardTrx:a.creditcardCount>0,hasCheckTrx:a.checkCount>0};return f.depositRange="Deposit Report: "+d.format("MM/DD/YYYY")+" to "+e.format("MM/DD/YYYY"),f.formattedStartDate=d.format("MM/DD/YYYY"),f.formattedEndDate=e.format("MM/DD/YYYY"),f.filterOptions=[],b.each(t,function(a,b){f.filterOptions.push({val:b.value,name:b.name,selected:c.filter===b.value?"selected":""}),void 0!==c.filter&&"ALL"!==c.filter&&c.filter===b.value&&(f.activeFilter=b.name)}),b.each(a.achPayments,function(a,b){f.achPayments.push(o(b))}),b.each(a.creditcardPayments,function(a,b){f.creditcardPayments.push(o(b))}),b.each(a.checkPayments,function(a,b){f.checkPayments.push(o(b))}),f}function n(a,c){c=c||{};var d=moment(c.startDate,"DD.MM.YYYY"),e=moment(c.endDate,"DD.MM.YYYY"),f={program:p(a.program),total:thousandsSeparators(a.total.toFixed(2)),postDate:moment().format("MM/DD/YYYY")};return f.summaryRange=d.format("MM/DD/YYYY")+" to "+e.format("MM/DD/YYYY"),f.depositRange="Deposit Report: "+f.summaryRange,f.formattedStartDate=d.format("MM/DD/YYYY"),f.formattedEndDate=e.format("MM/DD/YYYY"),f.filterOptions=[],b.each(t,function(a,b){f.filterOptions.push({val:b.value,name:b.name,selected:c.filter===b.value?"selected":""}),void 0!==c.filter&&"ALL"!==c.filter&&c.filter===b.value&&(f.activeFilter=b.name)}),f}function o(a){return a.formattedDate=timeFormatter.formatDate({date:a.date,pattern:"MM/DD/YYYY",timezone:"America/New_York"}),void 0!==a.amount&&(a.amount=a.amount.toFixed(2)),a}function p(a){var b={};return void 0!==a.programFullName?b.programFullName=a.programFullName:b.programFullName=a.programName,void 0!==a.address&&(b.street=a.address.street,b.address=a.address.city+", "+a.address.state+" "+a.address.zipcode),void 0!==a.phone&&(b.phone=a.phone.contactValue),void 0!==a.email&&(b.email=a.email.contactValue),b}function q(){b("#print-report").off("click").on("click",function(a){a.preventDefault();b(this);b("#print-report").print({pathToPrint:"about:blank"});var c=b("#print-report").print("filteredHtml",b("#deposit-report-summary-print-wrap"));b("#printFrame").contents().find("body").html(c),setTimeout(function(){b("#print-report").print("printIframe")},500)})}function r(){b("#print-summary-report").off("click").on("click",function(a){a.preventDefault();b(this);b("#print-summary-report").print({pathToPrint:"about:blank"});var c=b("#print-summary-report").print("filteredHtml",b("#deposit-summary-report-summary-print-wrap"));b("#printFrame").contents().find("body").html(c),setTimeout(function(){b("#print-summary-report").print("printIframe")},500)})}var s,t=[{name:"Show All",value:"ALL"},{name:"Morning",value:"MORNING"},{name:"Afterschool",value:"AFTERSCHOOL"},{name:"CCPS",value:"CCPS"},{name:"Scholarship",value:"SCHOLARSHIP"},{name:"ELC",value:"ELC"},{name:"Regular Rate",value:"DEFAULT_RATE"}],u={loadWeeklyDepositReport:c,loadWeeklySummaryDepositReport:e};s=App.addComponent("BillingReports","/billing/billing-reports",u)}(App,jQuery),function(a,b){function c(a,b,d,e){setActiveContainer(a),d=d||moment(),e=e||getPageObj(),e.size=500,_checkinLogController.getCheckinLog(b,d,e).done(function(b){console.log(["loadCheckinLog",c]),k(a,u(b,d,e),d)})}function d(a,b,c){_checkinLogController.getCheckinLog(a,b,c).done(function(a){j(u(a,b,c),b)})}function e(a){_checkinController.getStudentCheckinLedger(a).done(function(b){console.log(["checkinPage",b]);var c=D(b,a);n(a,c)})}function f(){var a=b("#student-checkin-log-modal-pagination").pagination("getAjaxData");void 0!==a.startDate&&""!==a.startDate&&(_startMoment=moment(a.startDate,"MM/DD/YYYY"),a.startDate=_startMoment.format("DD.MM.YYYY")),void 0!==a.endDate&&""!==a.endDate&&(_endMoment=moment(a.endDate,"MM/DD/YYYY"),a.endDate=_endMoment.format("DD.MM.YYYY")),void 0!==a.familyFilter&&"All"!==a.familyFilter&&(a.studentId=parseInt(a.familyFilter)),console.log(["reloadStudentCheckinLedgerModal ",a]),_checkinController.getStudentCheckinLedger(a).done(function(b){console.log(["checkinPage",b]);var c=D(b,a);o(a,c)})}function g(a){_checkinController.getStudentCheckinLedger(a).done(function(b){console.log(["checkinPage",b]);var c=D(b,a);i(c),q(a,c)})}function h(a){void 0!==a?a.isEdit=!0:a={isEdit:!1,students:I,checkinTime:"03:00 pm",checkoutTime:"05:00 pm"},console.log(["loadEditManualCheckin",a]),p(a)}function i(a){H.render("tempLedgerTotals",b("#student-ledger-modal-totals"),a)}function j(a,c){H.render("tempStudentRowWrap",b("#checkin-log-table").find("tbody"),a,["tempStudentRow"]).done(function(){s(a.page),G(c),z(),A()})}function k(a,c,d){H.render("tempCheckinLogTable",a,c,["tempStudentRow"]).done(function(){b(".checkin-log-date").datepicker({dateFormat:"mm/dd/yy"}),s(c.page),G(d),z(),A(),B(),b("#clear-daily-logs").off("click").on("click",function(){t()})})}function l(a){H.getRenderedString("tempStudentRow",a).done(function(c){b("#checkin-log-row-"+a.id).replaceWith(c),z(),A()})}function m(a){H.getRenderedString("tempEditCheckinLogModal",a).done(function(a){b("#modal-wrapper").html(a),b("#editCheckinLogModal").modal("show"),b("#editCheckinLogModal").find(".time-range").each(function(){b(this).inputmask("datetime",{inputFormat:"hh:MM TT",outputFormat:"HH:MM:ss"})}),b("#modal-edit-checkin-log-btn").off("click").on("click",function(){console.log(["clicked"]);var a=b("#editCheckinLogModal").find("form"),c=a.serializeJSON(serializeJSON_Defaults);console.log(["edit checkout json ",c]),_checkinLogController.updateCheckinLog(c).done(function(a){l(F(a)),b("#editCheckinLogModal").modal("hide")})})})}function n(a,c){H.getRenderedString("tempStudentCheckinLogModal",c,["tempLedgerTableBody","tempLedgerTableRow","tempLedgerTotals"]).done(function(d){b("#modal-wrapper").html(d),b("#checkinLedgerModal").modal("show"),b(".checkin-ledger-date").datepicker({dateFormat:"mm/dd/yy"}),r(a,c.page),v(),w(),x()})}function o(a,c){H.getRenderedString("tempStudentCheckinLogModal",c,["tempLedgerTableBody","tempLedgerTableRow","tempLedgerTotals"]).done(function(d){b("#modal-wrapper").find(".modal-body").html(b(d).find(".modal-body")),b(".checkin-ledger-date").datepicker({dateFormat:"mm/dd/yy"}),r(a,c.page),v(),w(),x()})}function p(a){a.fn=_mustacheHelper,H.render("tempEditManualCheckin",b(".edit-checkin-log-wrap"),a).done(function(){b(".manual-checkin-date").datepicker({dateFormat:"mm/dd/yy"}),y()})}function q(a,c){H.getRenderedString("tempLedgerTableBody",c,["tempLedgerTableRow"]).done(function(d){b("#modal-wrapper").find("tbody").html(d),r(a,c.page),v(),w(),x()})}function r(c,d){return a.getComponent("Pagination").getFn("loadPagination",["tempChevronSpans",b("#student-checkin-log-modal-pagination"),d]).done(function(a,b){a.pagination({overrideLoadFunction:function(a){console.log(["overrideLoadFunction",a.ajaxData]),void 0!==a.ajaxData.startDate&&""!==a.ajaxData.startDate&&(_startMoment=moment(a.ajaxData.startDate,"MM/DD/YYYY"),a.ajaxData.startDate=_startMoment.format("DD.MM.YYYY")),void 0!==a.ajaxData.endDate&&""!==a.ajaxData.endDate&&(_endMoment=moment(a.ajaxData.endDate,"MM/DD/YYYY"),a.ajaxData.endDate=_endMoment.format("DD.MM.YYYY")),void 0!==a.ajaxData.transactionType&&"All"===a.ajaxData.transactionType&&delete a.ajaxData.transactionType,void 0!==a.ajaxData.familyFilter&&"All"!==a.ajaxData.familyFilter&&(a.ajaxData.studentId=parseInt(a.ajaxData.familyFilter)),g(a.ajaxData)},filterClass:"student-checkin-log-modal-filter",ajaxData:c})})}function s(c){return a.getComponent("Pagination").getFn("loadPagination",["tempChevronSpans",b("#checkin-log-pagination"),c]).done(function(a,b){a.pagination({overrideLoadFunction:function(a){console.log(["pagination ",a]);var b;void 0!==a.ajaxData.date?(b=moment(a.ajaxData.date,"MM/DD/YYYY"),delete a.ajaxData.date):b=moment(),d(a.search,b,a.ajaxData)},filterClass:"checkin-log-filter",ajaxData:b})})}function t(){var a=moment(b(".checkin-log-date").val(),"MM/DD/YYYY"),c={formattedDate:a.format("MM/DD/YYYY")};H.getRenderedString("tempClearCheckinLogModal",c).done(function(c){b("#modal-wrapper").html(c),b("#clearCheckinLogModal").modal("show"),b("#modal-checkin-clear-btn").off("click").on("click",function(){"CLEAR"===b("#clearCheckinLogModal").find("input.confirmation").val()?(b("#clearCheckinLogModal").find("input.confirmation").removeClass("is-invalid"),_checkinLogController.clearCheckinLog(a).done(function(){b("#clearCheckinLogModal").modal("hide"),console.log(["checking log controller loadPage 109"]),b("#checkin-log-pagination").pagination("loadPage")})):b("#clearCheckinLogModal").find("input.confirmation").addClass("is-invalid")}),b("#clearCheckinLogModal").find("input.confirmation").off("keyup").on("keyup",function(){"CLEAR"===b("#clearCheckinLogModal").find("input.confirmation").val()?b("#clearCheckinLogModal").find("input.confirmation").removeClass("is-invalid"):b("#clearCheckinLogModal").find("input.confirmation").addClass("is-invalid")})})}function u(a,c,d){console.log(["formatCheckinLogs",a,c,d]);var e={checkIns:a.content,page:getPageObj(a),formattedDate:c.format("MM/DD/YYYY")};return void 0!==e.checkIns&&e.checkIns.forEach(function(a){F(a)}),e.pageSizeOptions=[],b.each([10,25,50,100,500],function(a,b){e.pageSizeOptions.push({val:b,name:b,selected:e.page.size===b?"selected":""})}),e.studentSortOptions=[],b.each(J,function(a,b){e.studentSortOptions.push({val:b.value,name:b.name,selected:e.studentSort===b.value?"selected":""})}),e.studentFilterOptions=[],b.each(K,function(a,b){e.studentFilterOptions.push({val:b.value,name:b.name,selected:e.studentFilter===b.value?"selected":""})}),void 0!==d&&void 0!==d.studentFilter&&"All"!==d.studentFilter?(b(".active-filter-student-log-count").html(a.totalElements),b(".active-filter-student-log-count-wrap").show()):b(".active-filter-student-log-count-wrap").hide(),console.log(["formatCheckinLogs",e,J]),e}function v(){b("#print-student-checkin-ledger").off("click").on("click",function(a){a.preventDefault();b(this);b("#checkinLedgerModal").print({pathToPrint:"about:blank"});var c=b("#checkinLedgerModal").print("filteredHtml",b("#checkinLedgerModal").find(".modal-body"));b("#printFrame").contents().find("body").html(c),setTimeout(function(){b("#checkinLedgerModal").print("printIframe")},500)})}function w(){b("#add-checkin-log-btn").off("click").on("click",function(a){a.preventDefault(),b("#add-checkin-log-btn").hide(),h()})}function x(){b(".checkin-ledger-edit").off("click").on("click",function(a){a.preventDefault();b(this);_checkinLogController.fetchManualCheckinLog(b(this).data("id")).done(function(a){b("#add-checkin-log-btn").hide(),h(a)})}),b(".checkin-ledger-remove").off("click").on("click",function(a){var c=b(this).data("id");b(".manual-checkin-ledger-row[data-id="+c+"]").after('<tr class="delete-manual-checkin-row" data-id="'+c+'" ><td colspan="4">Delete Record and Reverse Billed Amounts?</td><td><button class="btn btn-danger btn-cancel-delete-manual-checkin" data-id="'+c+'" style="margin-right: 15px;">Cancel</button><button class="btn btn-success btn-confirm-delete-manual-checkin" data-id="'+c+'">Confirm</button></td></tr>'),b(".btn-cancel-delete-manual-checkin").off("click").on("click",function(){var a=b(this).data("id");b(".delete-manual-checkin-row[data-id="+a+"]").remove()}),b(".btn-confirm-delete-manual-checkin").off("click").on("click",function(){var a=b(this).data("id");b(".delete-manual-checkin-row[data-id="+a+"]").remove(),_checkinLogController.clearSingleCheckinLog(a).done(function(){b(document).trigger("manualCheckinLog"),f()}),b(".manual-checkin-ledger-row[data-id="+a+"]").remove()})})}function y(){b(".checkinRecordType-select").off("change").on("change",function(){"Afterschool"===b(this).find("option:selected").val()?(b("#edit-manual-checkin-form").find(".checkinTime").val("03:00 pm"),b("#edit-manual-checkin-form").find(".checkoutTime").val("05:00 pm")):(b("#edit-manual-checkin-form").find(".checkinTime").val("07:00 am"),b("#edit-manual-checkin-form").find(".checkoutTime").val("07:50 am"))}),b(".checkinDate").off("change").on("change",function(){b("#edit-manual-checkin-form").find(".checkoutDate").val(b("#edit-manual-checkin-form").find(".checkinDate").val())}),b(".cancel-manual-checkin-btn").off("click").on("click",function(){b(".edit-checkin-log-wrap").empty(),b("#add-checkin-log-btn").show()}),b(".save-manual-checkin-btn ").off("click").on("click",function(){var a=b(".edit-checkin-log-wrap").find("form"),c=a.serializeJSON(serializeJSON_Defaults);void 0!==c.checkinTime&&(c.checkinTime=c.checkinTime.toUpperCase()),void 0!==c.checkoutTime&&(c.checkoutTime=c.checkoutTime.toUpperCase()),_checkinLogController.postManualCheckinLog(c).always(function(){b(".edit-checkin-log-wrap").empty(),b("#add-checkin-log-btn").show(),f(),b(document).trigger("manualCheckinLog")})})}function z(){b(".delete-log-btn").off("click").on("click",function(){var a=b(this);_checkinLogController.clearSingleCheckinLog(b(this).data("id")).done(function(){a.closest("tr").remove(),G(moment(b(".checkin-log-date").val(),"MM/DD/YYYY"))})})}function A(){b(".checkin-log-edit").off("click").on("click",function(){var a=b(this),c={id:a.data("id"),defaultCheckInTime:a.data("checkin"),defaultCheckOutTime:a.data("checkout"),studentName:a.closest("tr").find(".student-name").html()};console.log(["renderEditCheckinLogModal",c]),m(c)})}function B(){b("#print-students").off("click").on("click",function(a){a.preventDefault();b(this);b("#print-students").print({pathToPrint:"about:blank"});var c=b("#print-students").print("filteredHtml",b("#student-checkin-log-print-wrap"));b("#printFrame").contents().find("body").html(c),setTimeout(function(){b("#print-students").print("printIframe")},500)})}function C(a){a=a||"student-checkin-ledger",b("."+a).off("click").on("click",function(){e({startDate:moment().startOf("month").format("DD.MM.YYYY"),endDate:moment().endOf("month").format("DD.MM.YYYY"),studentId:b(this).data("id")})})}function D(a,c){console.log(["formatCheckinLedger",a]);var d={allowDelete:Auth.inAuthorizedGroup("OWNERS"),allowEdit:Auth.inAuthorizedGroup("OWNERS"),checkins:[],studentAccounts:[],page:{}};return I=[],void 0!==a.familyAccount&&(d.hasFamilyAccount=!0,d.familyCheckinCount=a.familyAccount.checkinCount,d.familyAccountId=a.familyAccount.billingBalanceId),d.studentAccounts=a.studentAccounts,void 0!==a.studentAccounts&&b.each(a.studentAccounts,function(a,b){I.push({studentId:b.person.id,name:b.person.firstName+" "+b.person.lastName,selected:b.person.id===c.studentId?"selected":""})}),d.studentOptions=I,void 0!==a.checkinPage&&a.checkinPage.content&&(d.page=getPageObj(a.checkinPage),b.each(a.checkinPage.content,function(a,b){d.checkins.push(E(b,d.allowDelete))})),d.pageSizeOptions=[],b.each([10,25,50,100,500],function(a,b){d.pageSizeOptions.push({val:b,name:b,selected:d.page.size===b?"selected":""})}),void 0!==c&&(void 0!==c.startDate&&(_startMoment=moment(c.startDate,"DD.MM.YYYY"),d.formattedStartDate=_startMoment.format("MM/DD/YYYY")),void 0!==c.endDate&&(_endMoment=moment(c.endDate,"DD.MM.YYYY"),d.formattedEndDate=_endMoment.format("MM/DD/YYYY"))),console.log(["formatCheckinLedger after",d]),d}function E(a,b){return void 0!==a.checkInTime&&(a.formattedCheckInTime=timeFormatter.formatDate({date:a.checkInTime,pattern:"MM/DD/YY h:mma",timezone:"America/New_York"})),void 0!==a.checkOutTime&&(a.formattedCheckOutTime=timeFormatter.formatDate({date:a.checkOutTime,pattern:"MM/DD/YY h:mma",timezone:"America/New_York"})),a.studentName="",void 0!==a.student&&(a.studentName=a.student.firstName+" "+a.student.lastName),a.allowDelete=b,a.pickupName=a.pickupName||"Self Checkout",a}function F(a){return void 0!==a.checkInTime&&(a.formattedCheckInTime=timeFormatter.formatDate({date:a.checkInTime,pattern:"h:mma",timezone:"America/New_York"})),void 0!==a.checkOutTime&&(a.formattedCheckOutTime=timeFormatter.formatDate({date:a.checkOutTime,pattern:"h:mma",timezone:"America/New_York"})),a}function G(a){console.log(["uniqueStudentCheckinCount",a]),_checkinLogController.fetchUniqueStudentCheckinCount(a).done(function(a){b(".unique-student-log-count").html(a)})}var H,I=[],J=[{name:"Grade 0 -> 12",value:"GradeAsc"},{name:"Grade 12 -> 0",value:"GradeDesc"},{name:"Last Name A -> Z",value:"LastNameAsc"},{name:"Last Name Z -> A",value:"LastNameDesc"},{name:"School A -> Z",value:"SchoolAsc"},{name:"School Z -> A",value:"SchoolDesc"}],K=[{name:"Show All",value:"All"},{name:"Morning Checkins",value:"Morning"},{name:"Afterschool Checkins",value:"Afterschool"}],L={loadCheckinLog:c,bindCheckinLedgerModal:C};H=App.addComponent("CheckinLog","/students/checkin-log",L)}(App,jQuery),function(a,b){function c(a){setActiveContainer(a),d.render("tempEmployeeTimeclock",a,{}).done(function(){})}var d,e={loadEmployeeTimeclock:c};d=App.addComponent("EmployeeTimeclock","/employee/employee-timeclock",e)}(App,jQuery),function(a,b){var c;loadPagination=function(a,d,e){var f=b.Deferred();return e.max>1?(d.show(),e.max==e.page?(e.next=e.max,e.hasNext=!1):(e.next=e.page+1,e.hasNext=!0),1>e.page-1?(e.prev=1,e.hasPrev=!1):(e.prev=e.page-1,e.hasPrev=!0),c.render(a,d,e).done(function(a,b){f.resolve(a,b)})):(d.hide(),f.resolve(d,e)),f.promise()};var d={loadPagination:loadPagination};c=App.addComponent("Pagination","/utilities",d)}(App,jQuery),function(a,b){function c(a){setActiveContainer(a),console.log(["loadStudentBilling"]),_studentBillingController.getBillingWeekOptionModels().done(function(c){console.log(["weekOptions",c]);var d={page:getPageObj({})};d.weeklyOptions=j(c),d.studentSortOptions=[],b.each(r,function(a,b){d.studentSortOptions.push({val:b.value,name:b.name})}),k(d);var g=moment(c[0],"MM/DD/YYYY");_studentBillingController.getStudentBillingWeekOk(g,d.page).done(function(b){console.log(["billingLogPage",b]),d.studentBillings=f(b.content),d.page=getPageObj(b),q.render("tempBilling",a,d,["tempStudentBillingPage","tempStudentBillingRow"]).done(function(){l(g),m(),n(),o(),e(d.page)})})})}function d(a,c){var d={page:c};_studentBillingController.getStudentBillingWeekOk(a,c).done(function(c){console.log(["billingLogPage",c]),d.studentBillings=f(c.content),d.page=getPageObj(c),q.render("tempStudentBillingPage",b("#student-billing-table").find("tbody"),d,["tempStudentBillingRow"]).done(function(){l(a),m(),n(),o(),e(d.page)})})}function e(c){return a.getComponent("Pagination").getFn("loadPagination",["tempChevronSpans",b("#students-billing-pagination"),c]).done(function(a,b){a.pagination({overrideLoadFunction:function(a){console.log(["page data",a]),d(moment(a.ajaxData.weekOf,"MM/DD/YYYY"),a.ajaxData)},filterClass:"student-billing-filter",ajaxData:b})})}function f(a){return b.each(a,function(a,b){b=g(b)}),console.log(["formatStudentBillings",a]),a}function g(a){switch(void 0!==a.dailyRecords&&b.each(a.dailyRecords,function(b,c){h(a,c)}),a.paymentStatus){case"DUE":a.formattedPaymentStatus="Due";break;case"OUTSTANDING":a.formattedPaymentStatus="Outstanding";break;case"PAID":a.formattedPaymentStatus="Paid"}return console.log(["formatStudentBilling",a]),a}function h(a,b){switch(moment(b.attendanceDate,"YYYY-MM-DD").day()){case 0:a.isSundayAttendace=!0,a.sundayAttendaceType=i(b.attendanceType);break;case 1:a.isMondayAttendace=!0,a.mondayAttendaceType=i(b.attendanceType);break;case 2:a.isTuesdayAttendace=!0,a.tuesdayAttendaceType=i(b.attendanceType);break;case 3:a.isWednesdayAttendace=!0,a.wednesdayAttendaceType=i(b.attendanceType);break;case 4:a.isThursdayAttendace=!0,a.thursdayAttendaceType=i(b.attendanceType);break;case 5:a.isFridayAttendace=!0,a.fridayAttendaceType=i(b.attendanceType);break;case 6:a.isSaturdayAttendace=!0,a.saturdayAttendaceType=i(b.attendanceType)}console.log(["formatStudentAttendanceDay",a])}function i(a){switch(a){case"EARLY_RELEASE":return"E";case"ABSENT":return"A";case"FULL_DAY":return"F";case"HALF_DAY":return"H";case"DAILY_RATE":return"D"}}function j(a){var c=[];return b.each(a,function(a,b){c.push({val:b,name:b,selected:0===a?"selected":""})}),c}function k(a){a.pageSizeOptions=[],b.each([10,25,50,100,500],function(b,c){a.pageSizeOptions.push({val:c,name:c,selected:a.page.size===c?"selected":""})})}function l(a){b(".user-billing-edit").off("click").on("click",function(){p(b(this).data("id"),a)})}function m(){a.getComponent("StudentLedger").getFn("bindStudentLedgerModal"),b(document).off("manualCheckinLog.studentBilling").on("manualCheckinLog.studentBilling",function(){var a=b("#students-billing-pagination").pagination("getAjaxData");d(moment(a.weekOf,"MM/DD/YYYY"),a)})}function n(){a.getComponent("CheckinLog").getFn("bindCheckinLedgerModal")}function o(){b("#print-student-billing").off("click").on("click",function(a){a.preventDefault();b(this);b("#print-student-billing").print({pathToPrint:"about:blank"});var c=b("#print-student-billing").print("filteredHtml",b("#student-billing-print-wrap"));b("#printFrame").contents().find("body").html(c),setTimeout(function(){b("#print-student-billing").print("printIframe")},500)})}function p(a,c){console.log(["renderBillingModal",a,c]),q.getRenderedString("tempBillingRecordModal",{studentId:a}).done(function(d){b("#modal-wrapper").html(d),b("#billingRecordModal").modal("show"),b("#save-billing-btn").off("click").on("click",function(){console.log(["clicked"]);var d=b("#billingRecordModal").find("form"),e=d.serializeJSON(serializeJSON_Defaults);void 0===e.type&&(e.type="Payment"),_billingController.saveBillingRecord(e).always(function(){b("#billingRecordModal").modal("hide"),_studentBillingController.getStudentBillingWeekOfEntry(c,a).done(function(d){console.log(["billingLog",d]);var e={};e=g(d),q.getRenderedString("tempStudentBillingRow",e).done(function(d){console.log(["renderedString",d]),b("tr.student-billing-row[data-id="+a+"]").replaceWith(d),l(c),m(),n()})})})})})}var q,r=[{name:"Grade 0 -> 12",value:"GradeAsc"},{name:"Grade 12 -> 0",value:"GradeDesc"},{name:"Last Name A -> Z",value:"LastNameAsc"},{name:"Last Name Z -> A",value:"LastNameDesc"},{name:"School A -> Z",value:"SchoolAsc"},{name:"School Z -> A",value:"SchoolDesc"}],s={loadStudentBilling:c};q=App.addComponent("StudentBilling","/billing/student-billing",s)}(App,jQuery),function(a,b){function c(a){a=a||"student-ledger",console.log(["bindStudentLedgerModal",a]),b("."+a).off("click").on("click",function(){i({studentId:b(this).data("id")})})}function d(){b("#add-transation-btn").off("click").on("click",function(a){a.preventDefault(),b("#add-transation-btn").hide(),m()})}function e(){b(".cancel-billing-btn").off("click").on("click",function(){b(".new-charge-wrap").empty(),b("#add-transation-btn").show()}),b(".save-billing-btn ").off("click").on("click",function(){var a=b(".new-charge-wrap").find("form"),c=a.serializeJSON(serializeJSON_Defaults);void 0===c.type&&(c.type="Payment"),"Payment"!==c.type&&delete c.paymentMethodType,c.updateLedger=c.updateLedger||!1,_billingController.saveBillingRecord(c).always(function(){b(".new-charge-wrap").empty(),b("#add-transation-btn").show(),k()})}),b(".transaction-type").off("change").on("change",function(){"Payment"===b(this).find("option:selected").val()?b(".payment-method-type-wrap").show():b(".payment-method-type-wrap").hide()})}function f(){b(".billing-ledger-remove").off("click").on("click",function(){var a=b(this).data("id");b(".billing-ledger-row[data-id="+a+"]").after('<tr class="delete-ledger-row" data-id="'+a+'" ><td colspan="5">Delete Record and Reverse Amount?</td><td><button class="btn btn-danger btn-cancel-delete-ledger" data-id="'+a+'">Cancel</button></td><td><button class="btn btn-success btn-confirm-delete-ledger" data-id="'+a+'">Confirm</button></td></tr>'),b(".btn-cancel-delete-ledger").off("click").on("click",function(){var a=b(this).data("id");b(".delete-ledger-row[data-id="+a+"]").remove()}),b(".btn-confirm-delete-ledger").off("click").on("click",function(){var c=b(this).data("id");b(".delete-ledger-row[data-id="+c+"]").remove(),_studentLedgerController.deleteBillingLedger(c).done(function(){j()}),b(".billing-ledger-row[data-id="+a+"]").remove()})})}function g(){b(".billing-ledger-edit").off("click").on("click",function(){var a=b(this).data("id"),c={ledgerId:a,description:b(".billing-ledger-row[data-id="+a+"]").data("description"),amount:b(".billing-ledger-row[data-id="+a+"]").data("amount"),type:b(".billing-ledger-row[data-id="+a+"]").data("trxtype"),paymentMethodType:b(".billing-ledger-row[data-id="+a+"]").data("paymentmethod")};"Payment"===c.type&&(c.paymentMethodOptions=[],b.each(x,function(a,b){c.paymentMethodOptions.push({val:b.value,name:b.name,selected:c.paymentMethodType===b.value?"selected":""})}),c.showMethodType=!0),StudentLedger.getRenderedString("tempEditLedgerRow",c).done(function(c){b(".billing-ledger-row[data-id="+a+"]").after(c),b(".btn-cancel-edit-ledger").off("click").on("click",function(){var a=b(this).data("id");b(".edit-ledger-row[data-id="+a+"]").remove()}),b(".btn-confirm-edit-ledger").off("click").on("click",function(){var a=b(this).data("id"),c=b(".edit-ledger-row[data-id="+a+"]"),d={description:c.find(".description").val(),amount:c.find(".amount").val()};console.log(["$editLedgerRow",c,c.find(".payment-method-type").length]),c.find(".payment-method-type").length>-1&&(d.paymentMethodType=c.find(".payment-method-type").find("option:selected").val()),console.log(["$editLedgerRow",d]),_studentLedgerController.updateBillingLedger(a,d).done(function(a){c.remove(),j(),o(v(a,!0))})})})})}function h(){b("#print-ledger").off("click").on("click",function(a){a.preventDefault();b(this);b("#billingLedgerModal").print({pathToPrint:"about:blank"});var c=b("#billingLedgerModal").print("filteredHtml",b("#billingLedgerModal").find(".modal-body"));b("#printFrame").contents().find("body").html(c),setTimeout(function(){b("#billingLedgerModal").print("printIframe")},500)})}function i(a){_studentLedgerController.getFamilyBillingLedger(a).done(function(b){console.log(["ledgerModel",b]);var c=u(b,a);n(a,c)})}function j(){var a=b("#billing-ledger-modal-pagination").pagination("getAjaxData");void 0!==a.startDate&&""!==a.startDate&&(_startMoment=moment(a.startDate,"MM/DD/YYYY"),a.startDate=_startMoment.format("DD.MM.YYYY")),void 0!==a.endDate&&""!==a.endDate&&(_endMoment=moment(a.endDate,"MM/DD/YYYY"),a.endDate=_endMoment.format("DD.MM.YYYY")),void 0!==a.transactionType&&"All"===a.transactionType&&delete a.transactionType,void 0!==a.familyFilter&&"All"!==a.familyFilter&&(a.studentId=parseInt(a.familyFilter)),_studentLedgerController.getFamilyBillingLedgerTotals(a).done(function(b){q(u(b,a))})}function k(){var a=b("#billing-ledger-modal-pagination").pagination("getAjaxData");void 0!==a.startDate&&""!==a.startDate&&(_startMoment=moment(a.startDate,"MM/DD/YYYY"),a.startDate=_startMoment.format("DD.MM.YYYY")),void 0!==a.endDate&&""!==a.endDate&&(_endMoment=moment(a.endDate,"MM/DD/YYYY"),a.endDate=_endMoment.format("DD.MM.YYYY")),void 0!==a.transactionType&&"All"===a.transactionType&&delete a.transactionType,void 0!==a.familyFilter&&"All"!==a.familyFilter&&(a.studentId=parseInt(a.familyFilter)),console.log(["reloadStudentLedgerModal ",a]),_studentLedgerController.getFamilyBillingLedger(a).done(function(b){console.log(["ledgerModel",b]);var c=u(b,a);p(a,c)})}function l(a){_studentLedgerController.getFamilyBillingLedger(a).done(function(b){console.log(["ledgerModel",b]);var c=u(b,a);r(a,c)})}function m(){t({students:w})}function n(a,c){StudentLedger.getRenderedString("tempBillingLedgerModal",c,["tempLedgerTotals","tempLedgerTableBody","tempLedgerTableRow"]).done(function(e){b("#modal-wrapper").html(e),b("#billingLedgerModal").modal("show"),b(".billing-ledger-date").datepicker({dateFormat:"mm/dd/yy"}),s(a,c.page),h(),d(),g(),f()})}function o(a){StudentLedger.getRenderedString("tempLedgerTableRow",a).done(function(c){b(".billing-ledger-row[data-id="+a.id+"]").replaceWith(c),d(),g(),f()})}function p(a,c){StudentLedger.getRenderedString("tempBillingLedgerModal",c,["tempLedgerTotals","tempLedgerTableBody","tempLedgerTableRow"]).done(function(e){b("#modal-wrapper").find(".modal-body").html(b(e).find(".modal-body")),b(".billing-ledger-modal-filter").datepicker({dateFormat:"mm/dd/yy"}),s(a,c.page),h(),d(),g(),f()})}function q(a){StudentLedger.render("tempLedgerTotals",b("#student-ledger-modal-totals"),a)}function r(a,c){StudentLedger.getRenderedString("tempLedgerTableBody",c,["tempLedgerTableRow"]).done(function(e){b("#modal-wrapper").find("tbody").html(e),s(a,c.page),d(),g(),f()})}function s(c,d){return a.getComponent("Pagination").getFn("loadPagination",["tempChevronSpans",b("#billing-ledger-modal-pagination"),d]).done(function(a,b){a.pagination({overrideLoadFunction:function(a){console.log(["overrideLoadFunction",a.ajaxData]),void 0!==a.ajaxData.startDate&&""!==a.ajaxData.startDate&&(_startMoment=moment(a.ajaxData.startDate,"MM/DD/YYYY"),a.ajaxData.startDate=_startMoment.format("DD.MM.YYYY")),void 0!==a.ajaxData.endDate&&""!==a.ajaxData.endDate&&(_endMoment=moment(a.ajaxData.endDate,"MM/DD/YYYY"),a.ajaxData.endDate=_endMoment.format("DD.MM.YYYY")),void 0!==a.ajaxData.transactionType&&"All"===a.ajaxData.transactionType&&delete a.ajaxData.transactionType,void 0!==a.ajaxData.familyFilter&&"All"!==a.ajaxData.familyFilter&&(a.ajaxData.studentId=parseInt(a.ajaxData.familyFilter)),l(a.ajaxData)},filterClass:"billing-ledger-modal-filter",ajaxData:c})})}function t(a){StudentLedger.render("tempAddRecord",b(".new-charge-wrap"),a).done(function(){b(".payment-ledger-date").datepicker({dateFormat:"mm/dd/yy"}),e()})}function u(a,c){var d={allowDelete:Auth.inAuthorizedGroup("OWNERS"),transactions:[],studentBillingAccounts:[]};return w=[],void 0!==a.familyBillingAccount&&(d.hasFamilyAccount=!0,d.familyBalance=a.familyBillingAccount.balance,d.familyAccountId=a.familyBillingAccount.id),d.studentBillingAccounts=a.studentBillingAccounts,void 0!==a.studentBillingAccounts&&b.each(a.studentBillingAccounts,function(a,b){w.push({studentId:b.student.id,name:b.student.firstName+" "+b.student.lastName,selected:b.student.id===c.studentId?"selected":""})}),void 0!==a.studentBillingAccount&&(d.studentBalance=a.studentBillingAccount.balance,d.studenAccountId=a.studentBillingAccount.id,d.student=a.studentBillingAccount.student,w.push({studentId:a.studentBillingAccount.student.id,name:a.studentBillingAccount.student.firstName+" "+a.studentBillingAccount.student.lastName,selected:"selected"})),d.page={},void 0!==a.billingTransactionPage&&a.billingTransactionPage.content&&(b.each(a.billingTransactionPage.content,function(a,b){d.transactions.push(v(b,d.allowDelete))}),d.page=getPageObj(a.billingTransactionPage)),d.pageSizeOptions=[],b.each([10,25,50,100,500],function(a,b){d.pageSizeOptions.push({val:b,name:b,selected:d.page.size===b?"selected":""})}),d.studentOptions=w,d}function v(a,b){return a.formattedDate=timeFormatter.formatDate({date:a.date,pattern:"MM/DD/YY",timezone:"America/New_York"}),a.allowDelete=b,a}var w=[],x=[{name:"Credit Card",value:"CreditCard"},{name:"ACH",value:"Ach"},{name:"Check",value:"Check"},{name:"Cash",value:"Cash"}],y={bindStudentLedgerModal:c};StudentLedger=App.addComponent("StudentLedger","/billing/student-ledger",y),StudentLedger}(App,jQuery),function(a,b){function c(a,c,d){setActiveContainer(a),d=d||getPageObj(),b.when(_studentController.getStudents(c,d),e()).done(function(b,c){f(a,j(b[0],c[0]))})}function d(a,c){b.when(_studentController.getStudents(a,c),e()).done(function(a,b){g(j(a[0]))})}function e(){var a=b.Deferred();return void 0!==r?a.resolve(r):(_billingController.getBillingPlanModels().done(function(b){r=b,a.resolve(r)}),a.promise())}function f(a,b){q.render("tempStudents",a,b,["tempStudentRow"]).done(function(){h(b.page),l(),m(),n(),p(),o()})}function g(a){q.render("tempStudentRowWrap",b("#student-table").find("tbody"),a,["tempStudentRow"]).done(function(){h(a.page),l(),m(),n(),o()}),b("#all-student-count").html(a.totalStudents)}function h(c){return a.getComponent("Pagination").getFn("loadPagination",["tempChevronSpans",b("#students-pagination"),c]).done(function(a,c){a.pagination({overrideLoadFunction:function(a){c=b.extend(c,a.ajaxData),console.log(["overrideLoadFunction",a,c]),d(c.search,c)},filterClass:"student-filter",ajaxData:c})})}function i(a){q.getRenderedString("tempStudentAllergiesModal",{allergies:a}).done(function(a){b("#modal-wrapper").html(a),b("#studentAllergiesModal").modal("show"),b("#modal-wrapper").find(".bs-toggle").bootstrapToggle()})}function j(a,c){var d={students:a.content,page:getPageObj(a),totalStudents:a.totalElements},e=void 0!==c&&c.length?c[0].billingPlanName:"Not Set (use default)";return void 0!==c&&c.length&&b.each(c,function(a,b){b.defaultRate&&(e=b.billingPlanName)}),b.each(d.students,function(a,b){b=k(b,e)}),d.pageSizeOptions=[],b.each([10,25,50,100,500],function(a,b){d.pageSizeOptions.push({val:b,name:b,selected:d.page.size===b?"selected":""})}),d.studentSortOptions=[],b.each(s,function(a,b){d.studentSortOptions.push({val:b.value,name:b.name,selected:d.studentSort===b.value?"selected":""})}),d.studentActiveOptions=[],b.each(u,function(a,b){d.studentActiveOptions.push({val:b.value,name:b.name,selected:d.studentsFilter===b.value?"selected":""})}),d}function k(a,c){return void 0!==a.billingPlanId&&null!==a.billingPlanId?b.each(r,function(b,c){if(c.id===a.billingPlanId)return a.billingPlan=c.billingPlanName,!1}):a.billingPlan=c||"Not Set (use default)",void 0!==a.defaultWeeklyBillingType&&b.each(t,function(b,c){if(c.value===a.defaultWeeklyBillingType)return a.defaultWeeklyBillingTypeName=c.name,!1}),void 0!==a.allergies&&""!==a.allergies.trim()&&"na"!==a.allergies.trim().toLowerCase()&&"n/a"!==a.allergies.trim().toLowerCase()&&"none"!==a.allergies.trim().toLowerCase()&&"no known allergies."!==a.allergies.trim().toLowerCase()&&(a.showAllergies=!0),a}function l(){b(".user-edit").off("click").on("click",function(){App.getComponent("AddStudent").getFn("loadEditStudent",[b("#student-edit-container"),b(this).data("id"),"main-content"])}),b(".check-in-out-btn").off("click").on("click",function(){var a=b(this);console.log(["_config.SignInClass",_config.SignInClass,a.find(".far").hasClass(_config.SignInClass)]),a.find(".far").hasClass(_config.SignInClass)?(App.getComponent("ActiveStudents").getFn("checkInStudent",[a.data("id")]),a.find(".far").removeClass(_config.SignInClass).addClass(_config.SignOutClass)):(App.getComponent("ActiveStudents").getFn("checkOutStudent",[a.data("id")]),a.find(".far").removeClass(_config.SignOutClass).addClass(_config.SignInClass))})}function m(){a.getComponent("StudentLedger").getFn("bindStudentLedgerModal")}function n(){a.getComponent("CheckinLog").getFn("bindCheckinLedgerModal")}function o(){b(".show-allergies").off("click").on("click",function(a){i(b(this).data("allergies"))})}function p(){b("#print-students").off("click").on("click",function(a){a.preventDefault();b(this);b("#print-students").print({pathToPrint:"about:blank"});var c=b("#print-students").print("filteredHtml",b("#student-print-wrap"));b("#printFrame").contents().find("body").html(c),setTimeout(function(){b("#print-students").print("printIframe")},500)})}var q,r,s=[{name:"Grade 0 -> 12",value:"GradeAsc"},{name:"Grade 12 -> 0",value:"GradeDesc"},{name:"Last Name A -> Z",value:"LastNameAsc"},{name:"Last Name Z -> A",value:"LastNameDesc"},{name:"School A -> Z",value:"SchoolAsc"},{name:"School Z -> A",value:"SchoolDesc"}],t=[{name:"One Day",value:"DAILY_RATE"},{name:"Two To Three Days",value:"TWO_TO_THREE_DAYS"},{name:"Four To Five Days",value:"FOUR_TO_FIVE_DAYS"},{name:"Before + After Four To Five",value:"FOUR_TO_FIVE_DAYS_BEFORE_AND_AFTER"},{name:"Before + After Two To Three",value:"TWO_TO_THREE_DAYS_BEFORE_AND_AFTER"},{name:"Morning Only",value:"MORNING"},{name:"Two Day",value:"TWO_DAY"},{name:"Three Day",value:"THREE_DAY"},{name:"Four Day",value:"FOUR_DAY"},{name:"Five Day",value:"FIVE_DAY"}],u=[{name:"Active",value:"ACTIVE_STUDENTS"},{name:"Inactive",value:"INACTIVE_STUDENTS"},{name:"Morning Program",value:"MORNING_STUDENTS"},{name:"CCPS",value:"CCPS"},{name:"Regular Rate",value:"DEFAULT_RATE"},{name:"Scholarship",value:"SCHOLARSHIP"},{name:"ELC",value:"ELC"},{name:"Show All",value:"ALL_STUDENTS"}],v={loadStudents:c};q=App.addComponent("Students","/students/students",v)}(App,jQuery);